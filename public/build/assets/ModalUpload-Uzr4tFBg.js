import{M as u}from"./Modal-KFsSFIqO.js";import{M as p}from"./vue-multiselect.esm-BzEJETvq.js";import{_ as f,F as i,r as h,o as r,C as b,w as d,e as l,b as n,n as c,h as _}from"./app-DOBYqpWM.js";const U={components:{Modal:u,Multiselect:p},data(){return{modalUploadShow:!0,modalTitle:"Upload Data Product",form:{file:null,submit:!1}}},mounted(){this.form={file:null,submit:!1}},methods:{handleFileUpload(s){this.form.file=s.target.files[0]},submitUpload(){const s=new FormData;s.append("file",this.form.file),!this.form.submit&&(this.form.submit=!0,i.post(route("product.import"),s,{onFinish:()=>{this.$success("Data berhasil disimpan"),i.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-upload").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}))}}},w={key:0},M=l("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),F=l("span",{class:"bott"},"Loading",-1),k=[M,F],y={key:1,class:"bott"};function C(s,o,v,g,a,t){const m=h("Modal");return r(),b(m,{show:a.modalUploadShow,title:a.modalTitle,id:"modal-product-upload"},{footer:d(()=>[l("button",{type:"button",class:c(["btn btn-primary",{disabled:a.form.submit}]),onClick:o[2]||(o[2]=(...e)=>t.submitUpload&&t.submitUpload(...e))},[a.form.submit?(r(),n("div",w,k)):(r(),n("span",y,"Save"))],2)]),default:d(()=>[l("form",{ref:"formUpload",onSubmit:o[1]||(o[1]=_((...e)=>t.submitUpload&&t.submitUpload(...e),["prevent"]))},[l("input",{type:"file",ref:"file",onChange:o[0]||(o[0]=(...e)=>t.handleFileUpload&&t.handleFileUpload(...e))},null,544)],544)]),_:1},8,["show","title"])}const S=f(U,[["render",C]]);export{S as default};
