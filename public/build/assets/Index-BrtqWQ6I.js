import{A as g}from"./AuthenticatedLayout-Ey72YXoO.js";import k from"./ModalUpload-C5E71g7u.js";import E from"./ModalForm-Da9eapfV.js";import{Z as T,c as r,a as l,F as i,_ as C,r as n,o as c,b as u,e,w as p,k as R,t as b,d as m,C as v,f as y,n as I}from"./app-KNZD5g8g.js";import{a as P}from"./vue-multiselect.esm-DCI4wgIb.js";/* empty css                        */const N={layout:g,props:["products","categories","supplier"],components:{Head:T,ModalUpload:k,ModalForm:E,Multiselect:P},data(){return{table:[{title:"ORI DESIGN SKU",data:"ori_sku"},{title:"ORI BARCODE",data:"ori_barcode"},{title:"NEW DESIGN (SKU)",data:"sku"},{title:"PRODUCT CATEGORY",data:"category.name"},{title:"DESIGN NAME",data:"design_name"},{title:"COLOR",data:"color.name"},{title:"PATTERN",data:"pattern"},{title:"ORIGIN",data:"origin",render:t=>t.origin==1?r("span",null,[l("Import")]):r("span",null,[l("Local")])}],data:this.products,modal:{upload:!1,form:!1},toEdit:!0,selectedIds:[],modalTitle:"",type:"create",rowData:{},formStatus:!1}},mounted(){},methods:{handleSelectedRows(t){this.selectedIds=t},createProduct(){this.formStatus=!0,$("#modal-product-index").on("hidden.bs.modal",()=>{this.formStatus=!1}),setTimeout(()=>{this.rowData={},this.toEdit=!0,this.modalTitle="Tambah Data Product",$("#modal-product-index").modal("show")})},uploadProduct(){$("#modal-product-upload").modal("show")},detailRow(t){this.formStatus=!0,this.rowData={},$("#modal-product-index").on("hidden.bs.modal",()=>{this.formStatus=!1}),setTimeout(()=>{this.rowData=t,this.toEdit=!1,this.modalTitle="Detail Data Product",$("#modal-product-index").modal("show")},500)},editRow(t){this.formStatus=!0,this.rowData={},$("#modal-product-index").on("hidden.bs.modal",()=>{this.formStatus=!1}),setTimeout(()=>{this.rowData=t,this.toEdit=!0,this.modalTitle="Ubah Data Product",$("#modal-product-index").modal("show")},500)},deleteRow(t){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(t),!1)},deleteAction(t){i.delete(this.route("products.delete",t.id),{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),i.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})},deleteSelected(){this.$confirm("You won't be able to revert this!",()=>this.deleteSelectedAction(),!1)},deleteSelectedAction(){i.post(this.route("products.deleteBulk"),{id:this.selectedIds},{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),i.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})}}},x={class:"text-right"},A=e("i",{class:"fa fa-trash"},null,-1),U={key:0,class:"alert alert-success",role:"alert"},B={key:1,class:"alert alert-danger",role:"alert"},M={class:"card shadow"},O=e("div",{class:"card-header"},[e("h4",{class:"card-title"},[e("i",{class:"fa fa-box"}),l(" Data Product ")])],-1),F=["onClick"],G=["onClick"],V=["onClick"];function H(t,d,f,L,s,o){const _=n("Head"),w=n("Table"),D=n("ModalUpload"),S=n("ModalForm");return c(),u(y,null,[e("div",null,[r(_,{title:"Products"}),e("div",x,[r(R,{name:"fade"},{default:p(()=>[e("button",{class:I([s.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:d[0]||(d[0]=(...a)=>o.deleteSelected&&o.deleteSelected(...a))},[A,l(" Delete Bulk ")],2)]),_:1}),e("button",{class:"btn btn-primary mb-2",type:"button",onClick:d[1]||(d[1]=(...a)=>o.createProduct&&o.createProduct(...a))}," + Data Baru "),l("   "),e("button",{class:"btn btn-success mb-2",type:"button",onClick:d[2]||(d[2]=(...a)=>o.uploadProduct&&o.uploadProduct(...a))}," + Upload ")]),t.$page.props.flash.success?(c(),u("div",U,b(t.$page.props.flash.success),1)):m("",!0),t.$page.props.flash.error?(c(),u("div",B,b(t.$page.props.flash.error),1)):m("",!0),e("div",M,[O,r(w,{columns:s.table,rows:s.data,"onUpdate:selectedRows":o.handleSelectedRows},{actions:p(({row:a})=>[e("button",{onClick:h=>o.detailRow(a),class:"btn btn-info btn-sm",title:"Detail"}," Detail ",8,F),l("  "),e("button",{onClick:h=>o.editRow(a),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,G),l("  "),e("button",{onClick:h=>o.deleteRow(a),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,V)]),_:1},8,["columns","rows","onUpdate:selectedRows"])])]),r(D),s.formStatus?(c(),v(S,{key:0,ref:"modalForm",modalTitle:s.modalTitle,type:s.type,editData:s.rowData,toEdit:s.toEdit,categories:f.categories},null,8,["modalTitle","type","editData","toEdit","categories"])):m("",!0)],64)}const q=C(N,[["render",H]]);export{q as default};
