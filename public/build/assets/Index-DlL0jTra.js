import{A as S}from"./AuthenticatedLayout-Cj-jz2_Y.js";import E from"./ModalUpload-DzzusX22.js";import k from"./ModalForm-DXdIEsYn.js";import{Z as C,a as d,g as l,h as i,_ as R,r as c,o as n,c as u,b as e,i as h,j as v,t as b,d as m,C as y,F as T,n as I}from"./app-BSxKCNTV.js";import{a as P}from"./vue-multiselect.esm-BsSAitZB.js";/* empty css                        */const N={layout:S,props:["products","categories","supplier"],components:{Head:C,ModalUpload:E,ModalForm:k,Multiselect:P},data(){return{table:[{title:"ORI DESIGN SKU",data:"ori_sku"},{title:"ORI BARCODE",data:"ori_barcode"},{title:"NEW DESIGN (SKU)",data:"sku"},{title:"PRODUCT CATEGORY",data:"category.name"},{title:"DESIGN NAME",data:"design_name"},{title:"COLOR",data:"color.name"},{title:"PATTERN",data:"pattern"},{title:"ORIGIN",data:"origin",render:t=>t.origin==1?d("span",null,[l("Import")]):d("span",null,[l("Local")])}],data:this.products,modal:{upload:!1,form:!1},toEdit:!0,selectedIds:[],modalTitle:"",type:"create",rowData:{},formStatus:!1}},methods:{handleSelectedRows(t){this.selectedIds=t},createProduct(){this.formStatus=!0,this.rowData={},this.toEdit=!0,this.modalTitle="Tambah Data Product",$("#modal-product-index").modal("show")},uploadProduct(){$("#modal-product-upload").modal("show")},detailRow(t){this.formStatus=!0,this.rowData=t,this.toEdit=!1,this.modalTitle="Detail Data Product",$("#modal-product-index").modal("show")},editRow(t){this.formStatus=!0,this.rowData=t,this.toEdit=!0,this.modalTitle="Ubah Data Product",$("#modal-product-index").modal("show")},deleteRow(t){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(t),!1)},deleteAction(t){i.delete(this.route("products.delete",t.id),{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),i.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})},deleteSelected(){this.$confirm("You won't be able to revert this!",()=>this.deleteSelectedAction(),!1)},deleteSelectedAction(){i.post(this.route("products.deleteBulk"),{id:this.selectedIds},{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),i.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})}}},A={class:"text-right"},U=e("i",{class:"fa fa-trash"},null,-1),B={key:0,class:"alert alert-success",role:"alert"},M={key:1,class:"alert alert-danger",role:"alert"},O={class:"card shadow"},x=e("div",{class:"card-header"},[e("h4",{class:"card-title"},[e("i",{class:"fa fa-box"}),l(" Data Product ")])],-1),F=["onClick"],G=["onClick"],V=["onClick"];function H(t,r,f,L,s,o){const _=c("Head"),D=c("Table"),w=c("ModalUpload"),g=c("ModalForm");return n(),u(T,null,[e("div",null,[d(_,{title:"Products"}),e("div",A,[d(v,{name:"fade"},{default:h(()=>[e("button",{class:I([s.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:r[0]||(r[0]=(...a)=>o.deleteSelected&&o.deleteSelected(...a))},[U,l(" Delete Bulk ")],2)]),_:1}),e("button",{class:"btn btn-primary mb-2",type:"button",onClick:r[1]||(r[1]=(...a)=>o.createProduct&&o.createProduct(...a))}," + Data Baru "),l("   "),e("button",{class:"btn btn-success mb-2",type:"button",onClick:r[2]||(r[2]=(...a)=>o.uploadProduct&&o.uploadProduct(...a))}," + Upload ")]),t.$page.props.flash.success?(n(),u("div",B,b(t.$page.props.flash.success),1)):m("",!0),t.$page.props.flash.error?(n(),u("div",M,b(t.$page.props.flash.error),1)):m("",!0),e("div",O,[x,d(D,{columns:s.table,rows:s.data,"onUpdate:selectedRows":o.handleSelectedRows},{actions:h(({row:a})=>[e("button",{onClick:p=>o.detailRow(a),class:"btn btn-info btn-sm",title:"Detail"}," Detail ",8,F),l("  "),e("button",{onClick:p=>o.editRow(a),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,G),l("  "),e("button",{onClick:p=>o.deleteRow(a),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,V)]),_:1},8,["columns","rows","onUpdate:selectedRows"])])]),d(w),s.formStatus?(n(),y(g,{key:0,modalTitle:s.modalTitle,type:s.type,editData:s.rowData,toEdit:s.toEdit,categories:f.categories},null,8,["modalTitle","type","editData","toEdit","categories"])):m("",!0)],64)}const q=R(N,[["render",H]]);export{q as default};
