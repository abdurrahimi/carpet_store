import{A as g}from"./AuthenticatedLayout-ZxOZTlO3.js";import E from"./ModalUpload-CZ6brCUu.js";import k from"./ModalForm-DubKUPdM.js";import{Z as C,a as d,g as l,h as i,_ as R,r as n,o as c,c as u,b as e,i as h,j as T,t as b,d as m,C as v,F as y,n as I}from"./app-C5MDxfyl.js";import{a as P}from"./vue-multiselect.esm-BmgEpNwK.js";/* empty css                        */const N={layout:g,props:["products","categories","supplier"],components:{Head:C,ModalUpload:E,ModalForm:k,Multiselect:P},data(){return{table:[{title:"ORI DESIGN SKU",data:"ori_sku"},{title:"ORI BARCODE",data:"ori_barcode"},{title:"NEW DESIGN (SKU)",data:"sku"},{title:"PRODUCT CATEGORY",data:"category.name"},{title:"DESIGN NAME",data:"design_name"},{title:"COLOR",data:"color.name"},{title:"PATTERN",data:"pattern"},{title:"ORIGIN",data:"origin",render:t=>t.origin==1?d("span",null,[l("Import")]):d("span",null,[l("Local")])}],data:this.products,modal:{upload:!1,form:!1},toEdit:!0,selectedIds:[],modalTitle:"",type:"create",rowData:{},formStatus:!1}},mounted(){},methods:{handleSelectedRows(t){this.selectedIds=t},createProduct(){this.formStatus=!0,this.rowData={},this.toEdit=!0,this.modalTitle="Tambah Data Product",$("#modal-product-index").modal("show")},uploadProduct(){$("#modal-product-upload").modal("show")},detailRow(t){this.formStatus=!0,$("#modal-product-index").on("hidden.bs.modal",()=>{this.formStatus=!1}),setTimeout(()=>{this.rowData=t,this.toEdit=!1,this.modalTitle="Detail Data Product",$("#modal-product-index").modal("show")},300)},editRow(t){this.formStatus=!0,$("#modal-product-index").on("hidden.bs.modal",()=>{this.formStatus=!1}),setTimeout(()=>{this.rowData=t,this.toEdit=!0,this.modalTitle="Ubah Data Product",$("#modal-product-index").modal("show")},300)},deleteRow(t){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(t),!1)},deleteAction(t){i.delete(this.route("products.delete",t.id),{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),i.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})},deleteSelected(){this.$confirm("You won't be able to revert this!",()=>this.deleteSelectedAction(),!1)},deleteSelectedAction(){i.post(this.route("products.deleteBulk"),{id:this.selectedIds},{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),i.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})}}},A={class:"text-right"},U=e("i",{class:"fa fa-trash"},null,-1),x={key:0,class:"alert alert-success",role:"alert"},B={key:1,class:"alert alert-danger",role:"alert"},M={class:"card shadow"},O=e("div",{class:"card-header"},[e("h4",{class:"card-title"},[e("i",{class:"fa fa-box"}),l(" Data Product ")])],-1),F=["onClick"],G=["onClick"],V=["onClick"];function H(t,r,f,L,s,o){const _=n("Head"),D=n("Table"),w=n("ModalUpload"),S=n("ModalForm");return c(),u(y,null,[e("div",null,[d(_,{title:"Products"}),e("div",A,[d(T,{name:"fade"},{default:h(()=>[e("button",{class:I([s.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:r[0]||(r[0]=(...a)=>o.deleteSelected&&o.deleteSelected(...a))},[U,l(" Delete Bulk ")],2)]),_:1}),e("button",{class:"btn btn-primary mb-2",type:"button",onClick:r[1]||(r[1]=(...a)=>o.createProduct&&o.createProduct(...a))}," + Data Baru "),l("   "),e("button",{class:"btn btn-success mb-2",type:"button",onClick:r[2]||(r[2]=(...a)=>o.uploadProduct&&o.uploadProduct(...a))}," + Upload ")]),t.$page.props.flash.success?(c(),u("div",x,b(t.$page.props.flash.success),1)):m("",!0),t.$page.props.flash.error?(c(),u("div",B,b(t.$page.props.flash.error),1)):m("",!0),e("div",M,[O,d(D,{columns:s.table,rows:s.data,"onUpdate:selectedRows":o.handleSelectedRows},{actions:h(({row:a})=>[e("button",{onClick:p=>o.detailRow(a),class:"btn btn-info btn-sm",title:"Detail"}," Detail ",8,F),l("  "),e("button",{onClick:p=>o.editRow(a),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,G),l("  "),e("button",{onClick:p=>o.deleteRow(a),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,V)]),_:1},8,["columns","rows","onUpdate:selectedRows"])])]),d(w),s.formStatus?(c(),v(S,{key:0,ref:"modalForm",modalTitle:s.modalTitle,type:s.type,editData:s.rowData,toEdit:s.toEdit,categories:f.categories},null,8,["modalTitle","type","editData","toEdit","categories"])):m("",!0)],64)}const q=R(N,[["render",H]]);export{q as default};
