import{A as Eo}from"./AuthenticatedLayout-C9WPTzTD.js";import{M as To,a as Fo}from"./vue-multiselect-DkHuuiz4.js";import{Z as wo,a as m,x as f,C as c,D as Bo,_ as No,y as g,o as u,c as b,b as e,m as _,p as jo,t as l,d as Do,n as a,e as d,v as p,E as Mo,w as So}from"./app-BBnZtgaR.js";const Ro={layout:Eo,props:["products","categories","supplier"],components:{Head:wo,Modal:To,Multiselect:Fo},data(){return{table:[{title:"SKU",data:"sku"},{title:"Nama Produk",data:"name"},{title:"Ori Design",data:"ori_design"},{title:"Supplier",data:"supp_id"},{title:"Tipe Produk",data:"origin",render:o=>o.origin==1?m("span",null,[f("Import")]):m("span",null,[f("Local")])},{title:"Warna Produk",data:"color"},{title:"Harga Modal",data:"cost"},{title:"Harga Atas",data:"unit_top_price"},{title:"Harga Bawah",data:"unit_bottom_price"},{title:"Deskripsi Desain",data:"desc"},{title:"Deskripsi Pola",data:"pattern"},{title:"Nama Pola",data:"pattern_name"},{title:"Nama Desain",data:"design_name"},{title:"Tahun",data:"year"},{title:"Tanggal Produksi",data:"mfg_date"},{title:"Panjang Produk",data:"panjang"},{title:"Lebar Produk",data:"lebar"},{title:"Dibuat Pada",data:"created_at"},{title:"Dibuat Oleh",data:"created_by"},{title:"Diperbarui Pada",data:"updated_at"},{title:"Diperbarui Oleh",data:"updated_by"},{title:"Nomor Roll",data:"roll_number"}],data:this.products,modalTitle:"",modalShow:!1,selectedIds:[],suppliers:[],form:{},store:[],modalUploadShow:!1,file:null}},mounted(){this.resetForm(),this.getDataStore()},methods:{handleFileUpload(o){this.file=o.target.files[0]},submitUpload(){const o=new FormData;o.append("file",this.file),!this.form.submit&&(this.form.submit=!0,c.post(route("product.import"),o,{onFinish:()=>{this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-upload").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}))},createProduct(){this.$page.props.errors=null,this.resetForm(),this.modalTitle="Tambah Data Product",$("#modal-product-index").modal("show")},uploadProduct(){this.$page.props.errors=null,this.modalTitle="Tambah Data Product",$("#modal-product-upload").modal("show")},editRow(o){var s;this.resetForm(),this.populateForm(o),this.getDataStore((s=o.store)==null?void 0:s.name),this.form.account=o.account,this.form.id=o.id,this.modalTitle="Ubah Data Karyawan",$("#modal-product-index").modal("show")},deleteRow(o){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(o),!1)},deleteAction(o){c.delete(this.route("products.delete",o.id),{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),c.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})},handleSelectedRows(o){this.selectedIds=o},async getDataStore(o=""){let{data:s}=await Bo.get(this.route("store.get",{name:o}));this.store=s},async submitForm(){try{return this.form.submit?void 0:(this.form.submit=!0,this.form.id==""||this.form.id==null?c.post(this.route("products.store"),this.form,{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-index").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}):c.put(this.route("products.update",this.form.id),this.form,{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-index").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}))}catch(o){console.log(o),this.form.submit=!1}},resetForm(){this.form={id:null,category:{id:null,name:""},supplier:{id:null,name:""},ori_design:"",name:"",color:"",design_name:"",ori_barcode:"",pattern:"",lebar:0,panjang:0,kode_benang:"",cost:0,unit_bottom_price:0,unit_top_price:0,status:1,sku:"",desc:"",origin:1,submit:!1,edit:!1}},populateForm(o){this.form={id:o.id,category:o.category,supplier:o.supplier,ori_design:o.ori_design,name:o.name,color:o.color,design_name:o.design_name,ori_barcode:o.ori_barcode,pattern:o.pattern,lebar:o.lebar,panjang:o.panjang,kode_benang:o.kode_benang,cost:o.cost,unit_bottom_price:o.unit_bottom_price,unit_top_price:o.unit_top_price,status:o.status,sku:o.sku,desc:o.desc,origin:o.origin,submit:!1,edit:!0}}}},Lo={class:"text-right"},Oo=e("i",{class:"fa fa-trash"},null,-1),Io={key:0,class:"alert alert-success",role:"alert"},Ao={key:1,class:"alert alert-danger",role:"alert"},Ho={class:"card shadow"},Ko=e("div",{class:"card-header"},[e("h4",{class:"card-title"},[e("i",{class:"fa fa-box"}),f(" Data Product ")])],-1),$o=["onClick"],Wo=["onClick"],qo={class:"row"},zo={class:"col-md-6 mb-3"},Yo=e("label",{for:"category_id",class:"form-label"},"Category",-1),Zo={class:"text-danger"},xo={class:"col-md-6 mb-3"},Go=e("label",{for:"supp_id",class:"form-label"},"Supplier",-1),Jo={class:"text-danger"},Qo={class:"col-md-6 mb-3"},Xo=e("label",{for:"supp_id",class:"form-label"},"Origin",-1),es=e("select",{class:"form-control"},[e("option",{value:"1"},"Import"),e("option",{value:"2"},"Lokal")],-1),os={class:"text-danger"},ss={class:"col-md-6 mb-3"},ts=e("label",{for:"ori_design",class:"form-label"},"Ori Design",-1),rs={class:"text-danger"},ls={class:"col-md-6 mb-3"},as=e("label",{for:"name",class:"form-label"},"Name",-1),is={class:"text-danger"},ns={class:"col-md-6 mb-3"},ds=e("label",{for:"color",class:"form-label"},"Color",-1),ps={class:"text-danger"},ms={class:"col-md-6 mb-3"},cs=e("label",{for:"design_name",class:"form-label"},"Design Name",-1),us={class:"text-danger"},bs={class:"col-md-6 mb-3"},_s=e("label",{for:"ori_barcode",class:"form-label"},"Ori Barcode",-1),fs={class:"text-danger"},hs={class:"col-md-6 mb-3"},gs=e("label",{for:"pattern",class:"form-label"},"Pattern",-1),vs={class:"text-danger"},ys={class:"col-md-6 mb-3"},ks=e("label",{for:"lebar",class:"form-label"},"Width",-1),Us={class:"text-danger"},Ds={class:"col-md-6 mb-3"},Ss=e("label",{for:"panjang",class:"form-label"},"Length",-1),Ps={class:"text-danger"},Vs={class:"col-md-6 mb-3"},Cs=e("label",{for:"kode_benang",class:"form-label"},"Code Benang",-1),Es={class:"text-danger"},Ts={class:"col-md-6 mb-3"},Fs=e("label",{for:"cost",class:"form-label"},"Cost",-1),ws={class:"text-danger"},Bs={class:"col-md-6 mb-3"},Ns=e("label",{for:"unit_bottom_price",class:"form-label"},"Unit Bottom Price",-1),js={class:"text-danger"},Ms={class:"col-md-6 mb-3"},Rs=e("label",{for:"unit_top_price",class:"form-label"},"Unit Top Price",-1),Ls={class:"text-danger"},Os={class:"col-md-6 mb-3"},Is=e("label",{for:"status",class:"form-label"},"Status",-1),As=e("option",{value:"1"},"Active",-1),Hs=e("option",{value:"0"},"Inactive",-1),Ks=[As,Hs],$s={class:"text-danger"},Ws={class:"col-md-6 mb-3"},qs=e("label",{for:"sku",class:"form-label"},"SKU",-1),zs={class:"text-danger"},Ys={class:"col-md-6 mb-3"},Zs=e("label",{for:"desc",class:"form-label"},"Description",-1),xs={class:"text-danger"},Gs={key:0},Js=e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Qs=e("span",{class:"bott"},"Loading",-1),Xs=[Js,Qs],et={key:1,class:"bott"},ot=e("button",{type:"submit"},"Upload",-1),st={key:0},tt=e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),rt=e("span",{class:"bott"},"Loading",-1),lt=[tt,rt],at={key:1,class:"bott"};function it(o,s,Po,nt,t,n){const Vo=g("Head"),Co=g("Table"),v=g("Multiselect"),y=g("Modal");return u(),b("div",null,[m(Vo,{title:"Products"}),e("div",Lo,[m(jo,{name:"fade"},{default:_(()=>[e("button",{class:a([t.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:s[0]||(s[0]=(...i)=>o.deleteSelected&&o.deleteSelected(...i))},[Oo,f(" Delete Bulk ")],2)]),_:1}),e("button",{class:"btn btn-primary mb-2",type:"button",onClick:s[1]||(s[1]=(...i)=>n.createProduct&&n.createProduct(...i))}," + Data Baru "),f("   "),e("button",{class:"btn btn-success mb-2",type:"button",onClick:s[2]||(s[2]=(...i)=>n.uploadProduct&&n.uploadProduct(...i))}," + Upload ")]),o.$page.props.flash.success?(u(),b("div",Io,l(o.$page.props.flash.success),1)):Do("",!0),o.$page.props.flash.error?(u(),b("div",Ao,l(o.$page.props.flash.error),1)):Do("",!0),e("div",Ho,[Ko,m(Co,{columns:t.table,rows:t.data,"onUpdate:selectedRows":n.handleSelectedRows},{actions:_(({row:i})=>[e("button",{onClick:h=>n.editRow(i),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,$o),f("  "),e("button",{onClick:h=>n.deleteRow(i),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,Wo)]),_:1},8,["columns","rows","onUpdate:selectedRows"])]),m(y,{show:t.modalShow,title:t.modalTitle,id:"modal-product-index"},{footer:_(()=>[e("button",{type:"button",class:a(["btn btn-primary",{disabled:t.form.submit}]),onClick:s[21]||(s[21]=(...i)=>n.submitForm&&n.submitForm(...i))},[t.form.submit?(u(),b("div",Gs,Xs)):(u(),b("span",et,"Save"))],2)]),default:_(()=>{var i,h,k,U,D,S,P,V,C,E,T,F,w,B,N,j,M,R,L,O,I,A,H,K,W,q,z,Y,Z,x,G,J,Q,X,ee,oe,se,te,re,le,ae,ie,ne,de,pe,me,ce,ue,be,_e,fe,he,ge,ve,ye,ke,Ue,De,Se,Pe,Ve,Ce,Ee,Te,Fe,we,Be,Ne,je,Me,Re,Le,Oe,Ie,Ae,He,Ke,$e,We,qe,ze,Ye,Ze,xe,Ge,Je,Qe,Xe,eo,oo,so,to,ro,lo,ao,io,no,po,mo,co,uo,bo,_o,fo,ho,go,vo,yo,ko,Uo;return[e("form",{ref:"formProduct",onSubmit:s[20]||(s[20]=So((...r)=>o.handleSubmit&&o.handleSubmit(...r),["prevent"]))},[e("div",qo,[e("div",zo,[Yo,m(v,{modelValue:t.form.category,"onUpdate:modelValue":s[3]||(s[3]=r=>t.form.category=r),options:Po.categories,"track-by":"id",label:"name","internal-search":!0,class:a({"is-invalid":(U=(k=(h=(i=o.$page)==null?void 0:i.props)==null?void 0:h.errors)==null?void 0:k.category)==null?void 0:U.id})},null,8,["modelValue","options","class"]),e("span",Zo,l((V=(P=(S=(D=o.$page)==null?void 0:D.props)==null?void 0:S.errors)==null?void 0:P.category)==null?void 0:V.id),1)]),e("div",xo,[Go,m(v,{modelValue:t.form.supp,"onUpdate:modelValue":s[4]||(s[4]=r=>t.form.supp=r),options:t.suppliers,"track-by":"id",label:"name","internal-search":!0,class:a({"is-invalid":(F=(T=(E=(C=o.$page)==null?void 0:C.props)==null?void 0:E.errors)==null?void 0:T.supp)==null?void 0:F.id})},null,8,["modelValue","options","class"]),e("span",Jo,l((j=(N=(B=(w=o.$page)==null?void 0:w.props)==null?void 0:B.errors)==null?void 0:N.supp)==null?void 0:j.id),1)]),e("div",Qo,[Xo,es,e("span",os,l((O=(L=(R=(M=o.$page)==null?void 0:M.props)==null?void 0:R.errors)==null?void 0:L.supp)==null?void 0:O.id),1)]),e("div",ss,[ts,d(e("input",{type:"text",id:"ori_design","onUpdate:modelValue":s[5]||(s[5]=r=>t.form.ori_design=r),class:a(["form-control",{"is-invalid":(H=(A=(I=o.$page)==null?void 0:I.props)==null?void 0:A.errors)==null?void 0:H.ori_design}]),placeholder:"Enter Ori Design",required:""},null,2),[[p,t.form.ori_design]]),e("span",rs,l((q=(W=(K=o.$page)==null?void 0:K.props)==null?void 0:W.errors)==null?void 0:q.ori_design),1)]),e("div",ls,[as,d(e("input",{type:"text",id:"name","onUpdate:modelValue":s[6]||(s[6]=r=>t.form.name=r),class:a(["form-control",{"is-invalid":(Z=(Y=(z=o.$page)==null?void 0:z.props)==null?void 0:Y.errors)==null?void 0:Z.name}]),placeholder:"Enter Name",required:""},null,2),[[p,t.form.name]]),e("span",is,l((J=(G=(x=o.$page)==null?void 0:x.props)==null?void 0:G.errors)==null?void 0:J.name),1)]),e("div",ns,[ds,d(e("input",{type:"text",id:"color","onUpdate:modelValue":s[7]||(s[7]=r=>t.form.color=r),class:a(["form-control",{"is-invalid":(ee=(X=(Q=o.$page)==null?void 0:Q.props)==null?void 0:X.errors)==null?void 0:ee.color}]),placeholder:"Enter Color"},null,2),[[p,t.form.color]]),e("span",ps,l((te=(se=(oe=o.$page)==null?void 0:oe.props)==null?void 0:se.errors)==null?void 0:te.color),1)]),e("div",ms,[cs,d(e("input",{type:"text",id:"design_name","onUpdate:modelValue":s[8]||(s[8]=r=>t.form.design_name=r),class:a(["form-control",{"is-invalid":(ae=(le=(re=o.$page)==null?void 0:re.props)==null?void 0:le.errors)==null?void 0:ae.design_name}]),placeholder:"Enter Design Name"},null,2),[[p,t.form.design_name]]),e("span",us,l((de=(ne=(ie=o.$page)==null?void 0:ie.props)==null?void 0:ne.errors)==null?void 0:de.design_name),1)]),e("div",bs,[_s,d(e("input",{type:"text",id:"ori_barcode","onUpdate:modelValue":s[9]||(s[9]=r=>t.form.ori_barcode=r),class:a(["form-control",{"is-invalid":(ce=(me=(pe=o.$page)==null?void 0:pe.props)==null?void 0:me.errors)==null?void 0:ce.ori_barcode}]),placeholder:"Enter Ori Barcode"},null,2),[[p,t.form.ori_barcode]]),e("span",fs,l((_e=(be=(ue=o.$page)==null?void 0:ue.props)==null?void 0:be.errors)==null?void 0:_e.ori_barcode),1)]),e("div",hs,[gs,d(e("input",{type:"text",id:"pattern","onUpdate:modelValue":s[10]||(s[10]=r=>t.form.pattern=r),class:a(["form-control",{"is-invalid":(ge=(he=(fe=o.$page)==null?void 0:fe.props)==null?void 0:he.errors)==null?void 0:ge.pattern}]),placeholder:"Enter Pattern"},null,2),[[p,t.form.pattern]]),e("span",vs,l((ke=(ye=(ve=o.$page)==null?void 0:ve.props)==null?void 0:ye.errors)==null?void 0:ke.pattern),1)]),e("div",ys,[ks,d(e("input",{type:"number",id:"lebar","onUpdate:modelValue":s[11]||(s[11]=r=>t.form.lebar=r),class:a(["form-control",{"is-invalid":(Se=(De=(Ue=o.$page)==null?void 0:Ue.props)==null?void 0:De.errors)==null?void 0:Se.lebar}]),placeholder:"Enter Width"},null,2),[[p,t.form.lebar]]),e("span",Us,l((Ce=(Ve=(Pe=o.$page)==null?void 0:Pe.props)==null?void 0:Ve.errors)==null?void 0:Ce.lebar),1)]),e("div",Ds,[Ss,d(e("input",{type:"number",id:"panjang","onUpdate:modelValue":s[12]||(s[12]=r=>t.form.panjang=r),class:a(["form-control",{"is-invalid":(Fe=(Te=(Ee=o.$page)==null?void 0:Ee.props)==null?void 0:Te.errors)==null?void 0:Fe.panjang}]),placeholder:"Enter Length"},null,2),[[p,t.form.panjang]]),e("span",Ps,l((Ne=(Be=(we=o.$page)==null?void 0:we.props)==null?void 0:Be.errors)==null?void 0:Ne.panjang),1)]),e("div",Vs,[Cs,d(e("input",{type:"text",id:"kode_benang","onUpdate:modelValue":s[13]||(s[13]=r=>t.form.kode_benang=r),class:a(["form-control",{"is-invalid":(Re=(Me=(je=o.$page)==null?void 0:je.props)==null?void 0:Me.errors)==null?void 0:Re.kode_benang}]),placeholder:"Enter Code Benang"},null,2),[[p,t.form.kode_benang]]),e("span",Es,l((Ie=(Oe=(Le=o.$page)==null?void 0:Le.props)==null?void 0:Oe.errors)==null?void 0:Ie.kode_benang),1)]),e("div",Ts,[Fs,d(e("input",{type:"number",id:"cost","onUpdate:modelValue":s[14]||(s[14]=r=>t.form.cost=r),class:a(["form-control",{"is-invalid":(Ke=(He=(Ae=o.$page)==null?void 0:Ae.props)==null?void 0:He.errors)==null?void 0:Ke.cost}]),placeholder:"Enter Cost"},null,2),[[p,t.form.cost]]),e("span",ws,l((qe=(We=($e=o.$page)==null?void 0:$e.props)==null?void 0:We.errors)==null?void 0:qe.cost),1)]),e("div",Bs,[Ns,d(e("input",{type:"number",id:"unit_bottom_price","onUpdate:modelValue":s[15]||(s[15]=r=>t.form.unit_bottom_price=r),class:a(["form-control",{"is-invalid":(Ze=(Ye=(ze=o.$page)==null?void 0:ze.props)==null?void 0:Ye.errors)==null?void 0:Ze.unit_bottom_price}]),placeholder:"Enter Unit Bottom Price"},null,2),[[p,t.form.unit_bottom_price]]),e("span",js,l((Je=(Ge=(xe=o.$page)==null?void 0:xe.props)==null?void 0:Ge.errors)==null?void 0:Je.unit_bottom_price),1)]),e("div",Ms,[Rs,d(e("input",{type:"number",id:"unit_top_price","onUpdate:modelValue":s[16]||(s[16]=r=>t.form.unit_top_price=r),class:a(["form-control",{"is-invalid":(eo=(Xe=(Qe=o.$page)==null?void 0:Qe.props)==null?void 0:Xe.errors)==null?void 0:eo.unit_top_price}]),placeholder:"Enter Unit Top Price"},null,2),[[p,t.form.unit_top_price]]),e("span",Ls,l((to=(so=(oo=o.$page)==null?void 0:oo.props)==null?void 0:so.errors)==null?void 0:to.unit_top_price),1)]),e("div",Os,[Is,d(e("select",{id:"status","onUpdate:modelValue":s[17]||(s[17]=r=>t.form.status=r),class:a(["form-control",{"is-invalid":(ao=(lo=(ro=o.$page)==null?void 0:ro.props)==null?void 0:lo.errors)==null?void 0:ao.status}])},Ks,2),[[Mo,t.form.status]]),e("span",$s,l((po=(no=(io=o.$page)==null?void 0:io.props)==null?void 0:no.errors)==null?void 0:po.status),1)]),e("div",Ws,[qs,d(e("input",{type:"text",id:"sku","onUpdate:modelValue":s[18]||(s[18]=r=>t.form.sku=r),class:a(["form-control",{"is-invalid":(uo=(co=(mo=o.$page)==null?void 0:mo.props)==null?void 0:co.errors)==null?void 0:uo.sku}]),placeholder:"Enter SKU"},null,2),[[p,t.form.sku]]),e("span",zs,l((fo=(_o=(bo=o.$page)==null?void 0:bo.props)==null?void 0:_o.errors)==null?void 0:fo.sku),1)]),e("div",Ys,[Zs,d(e("textarea",{id:"desc","onUpdate:modelValue":s[19]||(s[19]=r=>t.form.desc=r),class:a(["form-control",{"is-invalid":(vo=(go=(ho=o.$page)==null?void 0:ho.props)==null?void 0:go.errors)==null?void 0:vo.desc}]),placeholder:"Enter Description"},null,2),[[p,t.form.desc]]),e("span",xs,l((Uo=(ko=(yo=o.$page)==null?void 0:yo.props)==null?void 0:ko.errors)==null?void 0:Uo.desc),1)])])],544)]}),_:1},8,["show","title"]),m(y,{show:t.modalUploadShow,title:t.modalTitle,id:"modal-product-upload"},{footer:_(()=>[e("button",{type:"button",class:a(["btn btn-primary",{disabled:t.form.submit}]),onClick:s[24]||(s[24]=(...i)=>n.submitUpload&&n.submitUpload(...i))},[t.form.submit?(u(),b("div",st,lt)):(u(),b("span",at,"Save"))],2)]),default:_(()=>[e("form",{ref:"formUpload",onSubmit:s[23]||(s[23]=So((...i)=>n.submitUpload&&n.submitUpload(...i),["prevent"]))},[e("input",{type:"file",ref:"file",onChange:s[22]||(s[22]=(...i)=>n.handleFileUpload&&n.handleFileUpload(...i))},null,544),ot],544)]),_:1},8,["show","title"])])}const ct=No(Ro,[["render",it]]);export{ct as default};
