import{A as ks}from"./AuthenticatedLayout-pqXKvyNS.js";import{M as Ss,a as Vs}from"./vue-multiselect-Csrzy6bE.js";import{Z as Ps,y as c,z as Us,_ as Cs,A as f,o as u,c as g,a as m,b as e,m as h,p as Es,t as l,d as bs,x as v,n as a,e as i,v as n,B as ws,w as Ns}from"./app-hO94-DmL.js";const Ms={layout:ks,props:["products","categories","supplier"],components:{Head:Ps,Modal:Ss,Multiselect:Vs},data(){return{table:[{title:"Nama Produk",data:"name"},{title:"Toko",data:"store_name"},{title:"Kategori",data:"category_id"},{title:"Supplier",data:"supp_id"},{title:"Tipe Produk",data:"origin",render:s=>s.origin==1?"Import":"Local"},{title:"Warna Produk",data:"color"},{title:"Harga Modal",data:"cost"},{title:"Harga Per Meter",data:"unit_price"},{title:"Deskripsi Desain",data:"design_desc"},{title:"Deskripsi Pola",data:"pattern_desc"},{title:"Nama Pola",data:"pattern_name"},{title:"Nama Desain",data:"design_name"},{title:"Tahun",data:"year"},{title:"Tanggal Produksi",data:"mfg_date"},{title:"Panjang Produk",data:"length"},{title:"Lebar Produk",data:"width"},{title:"Dibuat Pada",data:"created_at"},{title:"Dibuat Oleh",data:"created_by"},{title:"Diperbarui Pada",data:"updated_at"},{title:"Diperbarui Oleh",data:"updated_by"},{title:"Nomor Roll",data:"roll_number"}],data:this.products,modalTitle:"",modalShow:!1,selectedIds:[],form:{},store:[]}},mounted(){this.resetForm(),this.getDataStore()},methods:{createProduct(){this.$page.props.errors=null,this.resetForm(),this.modalTitle="Tambah Data Product",$("#modal-product-index").modal("show")},editRow(s){var t;this.resetForm(),this.populateForm(s),this.getDataStore((t=s.store)==null?void 0:t.name),this.form.account=s.account,this.modalTitle="Ubah Data Karyawan",$("#modal-product-index").modal("show")},deleteRow(s){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(s),!1)},deleteAction(s){c.delete(this.route("products.delete",s.id),{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),c.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})},handleSelectedRows(s){this.selectedIds=s},async getDataStore(s=""){let{data:t}=await Us.get(this.route("store.get",{name:s}));this.store=t},async submitForm(){try{return this.form.submit?void 0:(this.form.submit=!0,this.form.id==""||this.form.id==null?c.post(this.route("products.store"),this.form,{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-index").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}):c.put(this.route("products.update",this.form.id),this.form,{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-index").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}))}catch(s){console.log(s),this.form.submit=!1}},resetForm(){this.form={id:null,product_id:"",category:{id:null,name:""},supplier:{id:null,name:""},store:{id:null,name:""},name:"",origin:1,color:"",cost:"",unit_price:"",design_desc:"",pattern_desc:"",pattern_name:"",design_name:"",year:"",mfg_date:"",length:0,width:0,roll_number:"",submit:!1,edit:!1}},populateForm(s){console.log(s),this.form={id:s.id,category:s.category,supplier:s.supplier,store:s.store,name:s.name,origin:s.origin,color:s.color,cost:s.cost,unit_price:s.unit_price,design_desc:s.design_desc,pattern_desc:s.pattern_desc,pattern_name:s.pattern_name,design_name:s.design_name,year:s.year,mfg_date:s.mfg_date,length:s.length,width:s.width,roll_number:s.roll_number,submit:!1,edit:!0}}}},Ts={class:"text-right"},Rs=e("i",{class:"fa fa-trash"},null,-1),Fs={key:0,class:"alert alert-success",role:"alert"},Ls={key:1,class:"alert alert-danger",role:"alert"},$s={class:"card shadow"},Bs=e("div",{class:"card-header"},[e("h4",{class:"card-title"},[e("i",{class:"fa fa-box"}),v(" Data Product")])],-1),Is=["onClick"],As=["onClick"],Hs={class:"row"},Os={class:"col-md-6 mb-3"},Ys=e("label",{for:"name",class:"form-label"},"Name",-1),js={class:"text-danger"},zs={class:"col-md-6 mb-3"},Ks=e("label",{for:"origin",class:"form-label"},"Origin",-1),Ws=e("option",{value:"1"},"Lokal",-1),qs=e("option",{value:"2"},"Impor",-1),Zs=[Ws,qs],Gs={class:"text-danger"},Js={class:"col-md-6 mb-3"},Qs=e("label",{for:"toko_id",class:"form-label"},"Store",-1),Xs={class:"text-danger"},xs={class:"col-md-6 mb-3"},et=e("label",{for:"category_id",class:"form-label"},"Category",-1),st={class:"text-danger"},tt={class:"col-md-6 mb-3"},ot=e("label",{for:"supp_id",class:"form-label"},"Supplier",-1),rt={class:"text-danger"},lt={class:"col-md-6 mb-3"},at=e("label",{for:"color",class:"form-label"},"Color",-1),it={class:"text-danger"},nt={class:"col-md-6 mb-3"},dt=e("label",{for:"cost",class:"form-label"},"Cost",-1),pt={class:"text-danger"},mt={class:"col-md-6 mb-3"},ct=e("label",{for:"unit_price",class:"form-label"},"Unit Price(per meter)",-1),ut={class:"text-danger"},gt={class:"col-md-6 mb-3"},_t=e("label",{for:"design_desc",class:"form-label"},"Design Description",-1),ft={class:"text-danger"},ht={class:"col-md-6 mb-3"},bt=e("label",{for:"pattern_desc",class:"form-label"},"Pattern Description",-1),vt={class:"text-danger"},yt={class:"col-md-6 mb-3"},Dt=e("label",{for:"pattern_name",class:"form-label"},"Pattern Name",-1),kt={class:"text-danger"},St={class:"col-md-6 mb-3"},Vt=e("label",{for:"design_name",class:"form-label"},"Design Name",-1),Pt={class:"text-danger"},Ut={class:"col-md-6 mb-3"},Ct=e("label",{for:"year",class:"form-label"},"Year",-1),Et={class:"text-danger"},wt={class:"col-md-6 mb-3"},Nt=e("label",{for:"mfg_date",class:"form-label"},"Manufacturing Date",-1),Mt={class:"text-danger"},Tt={class:"col-md-6 mb-3"},Rt=e("label",{for:"length",class:"form-label"},"Panjang(Meter)",-1),Ft={class:"text-danger"},Lt={class:"col-md-6 mb-3"},$t=e("label",{for:"width",class:"form-label"},"Lebar",-1),Bt={class:"text-danger"},It={class:"col-md-6 mb-3"},At=e("label",{for:"roll_number",class:"form-label"},"Roll Number",-1),Ht={class:"text-danger"},Ot={key:0},Yt=e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),jt=e("span",{class:"bott"},"Loading",-1),zt=[Yt,jt],Kt={key:1,class:"bott"};function Wt(s,t,y,qt,o,p){const vs=f("Head"),ys=f("Table"),b=f("Multiselect"),Ds=f("Modal");return u(),g("div",null,[m(vs,{title:"Products"}),e("div",Ts,[m(Es,{name:"fade"},{default:h(()=>[e("button",{class:a([o.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:t[0]||(t[0]=(...d)=>s.deleteSelected&&s.deleteSelected(...d))},[Rs,v(" Delete Bulk ")],2)]),_:1}),e("button",{class:"btn btn-primary mb-2",type:"button",onClick:t[1]||(t[1]=(...d)=>p.createProduct&&p.createProduct(...d))}," + Data Baru ")]),s.$page.props.flash.success?(u(),g("div",Fs,l(s.$page.props.flash.success),1)):bs("",!0),s.$page.props.flash.error?(u(),g("div",Ls,l(s.$page.props.flash.error),1)):bs("",!0),e("div",$s,[Bs,m(ys,{columns:o.table,rows:o.data,"onUpdate:selectedRows":p.handleSelectedRows},{actions:h(({row:d})=>[e("button",{onClick:_=>p.editRow(d),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,Is),v("  "),e("button",{onClick:_=>p.deleteRow(d),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,As)]),_:1},8,["columns","rows","onUpdate:selectedRows"])]),m(Ds,{show:o.modalShow,title:o.modalTitle,id:"modal-product-index"},{footer:h(()=>[e("button",{type:"button",class:a(["btn btn-primary",{disabled:o.form.submit}]),onClick:t[20]||(t[20]=(...d)=>p.submitForm&&p.submitForm(...d))},[o.form.submit?(u(),g("div",Ot,zt)):(u(),g("span",Kt,"Save"))],2)]),default:h(()=>{var d,_,D,k,S,V,P,U,C,E,w,N,M,T,R,F,L,B,I,A,H,O,Y,j,z,K,W,q,Z,G,J,Q,X,x,ee,se,te,oe,re,le,ae,ie,ne,de,pe,me,ce,ue,ge,_e,fe,he,be,ve,ye,De,ke,Se,Ve,Pe,Ue,Ce,Ee,we,Ne,Me,Te,Re,Fe,Le,$e,Be,Ie,Ae,He,Oe,Ye,je,ze,Ke,We,qe,Ze,Ge,Je,Qe,Xe,xe,es,ss,ts,os,rs,ls,as,is,ns,ds,ps,ms,cs,us,gs,_s,fs,hs;return[e("form",{ref:"formProduct",onSubmit:t[19]||(t[19]=Ns((...r)=>s.handleSubmit&&s.handleSubmit(...r),["prevent"]))},[e("div",Hs,[e("div",Os,[Ys,i(e("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=r=>o.form.name=r),class:a(["form-control",{"is-invalid":(D=(_=(d=s.$page)==null?void 0:d.props)==null?void 0:_.errors)==null?void 0:D.name}]),placeholder:"Enter Name",required:""},null,2),[[n,o.form.name]]),e("span",js,l((V=(S=(k=s.$page)==null?void 0:k.props)==null?void 0:S.errors)==null?void 0:V.name),1)]),e("div",zs,[Ks,i(e("select",{id:"origin","onUpdate:modelValue":t[3]||(t[3]=r=>o.form.origin=r),class:a(["form-control",{"is-invalid":(C=(U=(P=s.$page)==null?void 0:P.props)==null?void 0:U.errors)==null?void 0:C.origin}])},Zs,2),[[ws,o.form.origin]]),e("span",Gs,l((N=(w=(E=s.$page)==null?void 0:E.props)==null?void 0:w.errors)==null?void 0:N.origin),1)]),e("div",Js,[Qs,m(b,{modelValue:o.form.store,"onUpdate:modelValue":t[4]||(t[4]=r=>o.form.store=r),options:o.store,"track-by":"id",label:"name",onSearchChange:p.getDataStore,"internal-search":!1,class:a({"is-invalid":(R=(T=(M=s.$page)==null?void 0:M.props)==null?void 0:T.errors)==null?void 0:R.store})},null,8,["modelValue","options","onSearchChange","class"]),e("span",Xs,l((I=(B=(L=(F=s.$page)==null?void 0:F.props)==null?void 0:L.errors)==null?void 0:B.store)==null?void 0:I.id),1)]),e("div",xs,[et,m(b,{modelValue:o.form.category,"onUpdate:modelValue":t[5]||(t[5]=r=>o.form.category=r),options:y.categories,"track-by":"id",label:"name","internal-search":!0,class:a({"is-invalid":(Y=(O=(H=(A=s.$page)==null?void 0:A.props)==null?void 0:H.errors)==null?void 0:O.category)==null?void 0:Y.id})},null,8,["modelValue","options","class"]),e("span",st,l((K=(z=(j=s.$page)==null?void 0:j.props)==null?void 0:z.errors)==null?void 0:K.category_id),1)]),e("div",tt,[ot,m(b,{modelValue:o.form.supplier,"onUpdate:modelValue":t[6]||(t[6]=r=>o.form.supplier=r),options:y.supplier,"track-by":"id",label:"name","internal-search":!0,class:a({"is-invalid":(G=(Z=(q=(W=s.$page)==null?void 0:W.props)==null?void 0:q.errors)==null?void 0:Z.supplier)==null?void 0:G.id})},null,8,["modelValue","options","class"]),e("span",rt,l((x=(X=(Q=(J=s.$page)==null?void 0:J.props)==null?void 0:Q.errors)==null?void 0:X.supplier)==null?void 0:x.id),1)]),e("div",lt,[at,i(e("input",{type:"text",id:"color","onUpdate:modelValue":t[7]||(t[7]=r=>o.form.color=r),class:a(["form-control",{"is-invalid":(te=(se=(ee=s.$page)==null?void 0:ee.props)==null?void 0:se.errors)==null?void 0:te.color}]),placeholder:"Enter Color"},null,2),[[n,o.form.color]]),e("span",it,l((le=(re=(oe=s.$page)==null?void 0:oe.props)==null?void 0:re.errors)==null?void 0:le.color),1)]),e("div",nt,[dt,i(e("input",{type:"number",id:"cost","onUpdate:modelValue":t[8]||(t[8]=r=>o.form.cost=r),class:a(["form-control",{"is-invalid":(ne=(ie=(ae=s.$page)==null?void 0:ae.props)==null?void 0:ie.errors)==null?void 0:ne.cost}]),placeholder:"Enter Cost"},null,2),[[n,o.form.cost]]),e("span",pt,l((me=(pe=(de=s.$page)==null?void 0:de.props)==null?void 0:pe.errors)==null?void 0:me.cost),1)]),e("div",mt,[ct,i(e("input",{type:"number",id:"unit_price","onUpdate:modelValue":t[9]||(t[9]=r=>o.form.unit_price=r),class:a(["form-control",{"is-invalid":(ge=(ue=(ce=s.$page)==null?void 0:ce.props)==null?void 0:ue.errors)==null?void 0:ge.unit_price}]),placeholder:"Enter Unit Price"},null,2),[[n,o.form.unit_price]]),e("span",ut,l((he=(fe=(_e=s.$page)==null?void 0:_e.props)==null?void 0:fe.errors)==null?void 0:he.unit_price),1)]),e("div",gt,[_t,i(e("input",{type:"text",id:"design_desc","onUpdate:modelValue":t[10]||(t[10]=r=>o.form.design_desc=r),class:a(["form-control",{"is-invalid":(ye=(ve=(be=s.$page)==null?void 0:be.props)==null?void 0:ve.errors)==null?void 0:ye.design_desc}]),placeholder:"Enter Design Description"},null,2),[[n,o.form.design_desc]]),e("span",ft,l((Se=(ke=(De=s.$page)==null?void 0:De.props)==null?void 0:ke.errors)==null?void 0:Se.design_desc),1)]),e("div",ht,[bt,i(e("input",{type:"text",id:"pattern_desc","onUpdate:modelValue":t[11]||(t[11]=r=>o.form.pattern_desc=r),class:a(["form-control",{"is-invalid":(Ue=(Pe=(Ve=s.$page)==null?void 0:Ve.props)==null?void 0:Pe.errors)==null?void 0:Ue.pattern_desc}]),placeholder:"Enter Pattern Description"},null,2),[[n,o.form.pattern_desc]]),e("span",vt,l((we=(Ee=(Ce=s.$page)==null?void 0:Ce.props)==null?void 0:Ee.errors)==null?void 0:we.pattern_desc),1)]),e("div",yt,[Dt,i(e("input",{type:"text",id:"pattern_name","onUpdate:modelValue":t[12]||(t[12]=r=>o.form.pattern_name=r),class:a(["form-control",{"is-invalid":(Te=(Me=(Ne=s.$page)==null?void 0:Ne.props)==null?void 0:Me.errors)==null?void 0:Te.pattern_name}]),placeholder:"Enter Pattern Name"},null,2),[[n,o.form.pattern_name]]),e("span",kt,l((Le=(Fe=(Re=s.$page)==null?void 0:Re.props)==null?void 0:Fe.errors)==null?void 0:Le.pattern_name),1)]),e("div",St,[Vt,i(e("input",{type:"text",id:"design_name","onUpdate:modelValue":t[13]||(t[13]=r=>o.form.design_name=r),class:a(["form-control",{"is-invalid":(Ie=(Be=($e=s.$page)==null?void 0:$e.props)==null?void 0:Be.errors)==null?void 0:Ie.design_name}]),placeholder:"Enter Design Name"},null,2),[[n,o.form.design_name]]),e("span",Pt,l((Oe=(He=(Ae=s.$page)==null?void 0:Ae.props)==null?void 0:He.errors)==null?void 0:Oe.design_name),1)]),e("div",Ut,[Ct,i(e("input",{type:"number",id:"year","onUpdate:modelValue":t[14]||(t[14]=r=>o.form.year=r),class:a(["form-control",{"is-invalid":(ze=(je=(Ye=s.$page)==null?void 0:Ye.props)==null?void 0:je.errors)==null?void 0:ze.year}]),placeholder:"Enter Year"},null,2),[[n,o.form.year]]),e("span",Et,l((qe=(We=(Ke=s.$page)==null?void 0:Ke.props)==null?void 0:We.errors)==null?void 0:qe.year),1)]),e("div",wt,[Nt,i(e("input",{type:"date",id:"mfg_date","onUpdate:modelValue":t[15]||(t[15]=r=>o.form.mfg_date=r),class:a(["form-control",{"is-invalid":(Je=(Ge=(Ze=s.$page)==null?void 0:Ze.props)==null?void 0:Ge.errors)==null?void 0:Je.mfg_date}])},null,2),[[n,o.form.mfg_date]]),e("span",Mt,l((xe=(Xe=(Qe=s.$page)==null?void 0:Qe.props)==null?void 0:Xe.errors)==null?void 0:xe.mfg_date),1)]),e("div",Tt,[Rt,i(e("input",{type:"number",id:"length","onUpdate:modelValue":t[16]||(t[16]=r=>o.form.length=r),class:a(["form-control",{"is-invalid":(ts=(ss=(es=s.$page)==null?void 0:es.props)==null?void 0:ss.errors)==null?void 0:ts.length}]),placeholder:"Enter Length"},null,2),[[n,o.form.length]]),e("span",Ft,l((ls=(rs=(os=s.$page)==null?void 0:os.props)==null?void 0:rs.errors)==null?void 0:ls.length),1)]),e("div",Lt,[$t,i(e("input",{type:"number",id:"width","onUpdate:modelValue":t[17]||(t[17]=r=>o.form.width=r),class:a(["form-control",{"is-invalid":(ns=(is=(as=s.$page)==null?void 0:as.props)==null?void 0:is.errors)==null?void 0:ns.width}]),placeholder:"Enter Width"},null,2),[[n,o.form.width]]),e("span",Bt,l((ms=(ps=(ds=s.$page)==null?void 0:ds.props)==null?void 0:ps.errors)==null?void 0:ms.width),1)]),e("div",It,[At,i(e("input",{type:"text",id:"roll_number","onUpdate:modelValue":t[18]||(t[18]=r=>o.form.roll_number=r),class:a(["form-control",{"is-invalid":(gs=(us=(cs=s.$page)==null?void 0:cs.props)==null?void 0:us.errors)==null?void 0:gs.roll_number}]),placeholder:"Enter Roll Number"},null,2),[[n,o.form.roll_number]]),e("span",Ht,l((hs=(fs=(_s=s.$page)==null?void 0:_s.props)==null?void 0:fs.errors)==null?void 0:hs.roll_number),1)])])],544)]}),_:1},8,["show","title"])])}const Qt=Cs(Ms,[["render",Wt]]);export{Qt as default};
