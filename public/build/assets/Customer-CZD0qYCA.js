import{A as Ne}from"./AuthenticatedLayout-CQn56Lm6.js";import{M as Ie,a as Me}from"./vue-multiselect.esm-aTC6ua7j.js";import{_ as Te,Z as Ae,z as b,y as _,o as m,c,a as u,b as e,m as g,p as Fe,t as a,d as Ue,n,x as v,F as Re,w as Pe,e as d,v as p,G as Be,C as $e,D as He}from"./app-B0THEsPm.js";/* empty css                        */const Le={layout:Ne,props:["customer"],components:{Head:Ae,Modal:Ie,Multiselect:Me},data(){return{table:[{title:"Nama Customer",data:"name"},{title:"Email",data:"email"},{title:"Nomor Handphone",data:"phone"},{title:"NPWP",data:"npwp"},{title:"Created At",data:"created_at"},{title:"Created By",data:"creator.name"}],data:this.customer,selectedIds:[],form:{id:null,name:"",phone:"",title:"",address:"",npwp:"",id_no:"",id_img:null,store_id:null,type:"",email:"",created_by:null,submit:!1,errors:{}},stores:[]}},mounted(){},methods:{deleteRow(s){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(s),!1)},deleteAction(s){b.post(this.route("customer.delete"),{ids:[s.id]},{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),b.visit(this.$page.url,{only:["users"]})},onError:()=>{this.$error()}})},handleSelectedRows(s){this.selectedIds=s},deleteSelected(){this.$confirm("You won't be able to revert this!",()=>this.deleteSelectedAction(),!1)},deleteSelectedAction(){b.post(this.route("customer.delete"),{ids:this.selectedIds},{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),b.visit(this.$page.url,{only:["users"]})},onError:()=>{this.$error()}})}}},r=s=>($e("data-v-1b0127f1"),s=s(),He(),s),We={class:"text-right"},ze=r(()=>e("i",{class:"fa fa-trash"},null,-1)),Ye={key:0,class:"alert alert-success",role:"alert"},qe={key:1,class:"alert alert-danger",role:"alert"},Ge={class:"card shadow"},Ze=r(()=>e("div",{class:"card-header"},[e("h4",{class:"card-title"},[e("i",{class:"fa fa-user"}),v(" Data Customer ")])],-1)),je=["onClick"],Je=["onClick"],Ke={class:"row"},Oe={class:"col-md-6 mb-3"},Qe=r(()=>e("label",{for:"name",class:"form-label"},"Name",-1)),Xe={class:"text-danger"},xe={class:"col-md-6 mb-3"},es=r(()=>e("label",{for:"phone",class:"form-label"},"Phone",-1)),ss={class:"text-danger"},os={class:"col-md-6 mb-3"},ts=r(()=>e("label",{for:"title",class:"form-label"},"Title",-1)),ls={class:"text-danger"},rs={class:"col-md-12 mb-3"},as=r(()=>e("label",{for:"address",class:"form-label"},"Address",-1)),ns={class:"text-danger"},is={class:"col-md-6 mb-3"},ds=r(()=>e("label",{for:"npwp",class:"form-label"},"NPWP",-1)),ps={class:"text-danger"},ms={class:"col-md-6 mb-3"},cs=r(()=>e("label",{for:"id_no",class:"form-label"},"ID Number",-1)),us={class:"text-danger"},fs={class:"col-md-6 mb-3"},hs=r(()=>e("label",{for:"id_img",class:"form-label"},"ID Image",-1)),bs={class:"text-danger"},_s={class:"col-md-6 mb-3"},gs=r(()=>e("label",{for:"store_id",class:"form-label"},"Store",-1)),vs={class:"text-danger"},ys={class:"col-md-6 mb-3"},ws=r(()=>e("label",{for:"type",class:"form-label"},"Customer Type",-1)),Ss=r(()=>e("option",{value:""},"Select Type",-1)),Cs=r(()=>e("option",{value:"1"},"Reseller Lama",-1)),Us=r(()=>e("option",{value:"2"},"Reseller Baru",-1)),Vs=[Ss,Cs,Us],ks={class:"text-danger"},Es={class:"col-md-6 mb-3"},Ds=r(()=>e("label",{for:"email",class:"form-label"},"Email",-1)),Ns={class:"text-danger"},Is=r(()=>e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1)),Ms=r(()=>e("span",{class:"bott"},"Loading",-1)),Ts={key:1,class:"bott"};function As(s,o,Fs,Rs,t,f){const Ve=_("Head"),ke=_("Table"),Ee=_("Multiselect"),De=_("Modal");return m(),c("div",null,[u(Ve,{title:"Customer"}),e("div",We,[u(Fe,{name:"fade"},{default:g(()=>[e("button",{class:n([t.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:o[0]||(o[0]=(...i)=>f.deleteSelected&&f.deleteSelected(...i))},[ze,v(" Delete Bulk ")],2)]),_:1}),e("button",{class:"btn btn-primary mb-2",type:"button",onClick:o[1]||(o[1]=(...i)=>s.createUser&&s.createUser(...i))}," + Data Baru ")]),s.$page.props.flash.success?(m(),c("div",Ye,a(s.$page.props.flash.success),1)):Ue("",!0),s.$page.props.flash.error?(m(),c("div",qe,a(s.$page.props.flash.error),1)):Ue("",!0),e("div",Ge,[Ze,u(ke,{columns:t.table,rows:t.data,"onUpdate:selectedRows":f.handleSelectedRows},{actions:g(({row:i})=>[e("button",{onClick:h=>s.editRow(i),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,je),v("  "),e("button",{onClick:h=>f.deleteRow(i),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,Je)]),_:1},8,["columns","rows","onUpdate:selectedRows"]),u(De,{show:s.modalShow,title:s.modalTitle,id:"modal-add"},{footer:g(()=>[e("button",{type:"button",class:n(["btn btn-primary",{disabled:t.form.submit}]),onClick:o[15]||(o[15]=(...i)=>s.submitForm&&s.submitForm(...i))},[t.form.submit?(m(),c(Re,{key:0},[Is,Ms],64)):(m(),c("span",Ts,"Save"))],2)]),default:g(()=>{var i,h,y,w,S,C,U,V,k,E,D,N,I,M,T,A,F,R,P,B,$,H,L,W,z,Y,q,G,Z,j,J,K,O,Q,X,x,ee,se,oe,te,le,re,ae,ne,ie,de,pe,me,ce,ue,fe,he,be,_e,ge,ve,ye,we,Se,Ce;return[e("form",{ref:"formCustomer",onSubmit:o[14]||(o[14]=Pe((...l)=>s.submitForm&&s.submitForm(...l),["prevent"]))},[e("div",Ke,[d(e("input",{type:"hidden","onUpdate:modelValue":o[2]||(o[2]=l=>t.form.id=l)},null,512),[[p,t.form.id]]),e("div",Oe,[Qe,d(e("input",{type:"text",id:"name","onUpdate:modelValue":o[3]||(o[3]=l=>t.form.name=l),class:n(["form-control",{"is-invalid":(y=(h=(i=s.$page)==null?void 0:i.props)==null?void 0:h.errors)==null?void 0:y.name}]),placeholder:"Enter Name",required:""},null,2),[[p,t.form.name]]),e("span",Xe,a((C=(S=(w=s.$page)==null?void 0:w.props)==null?void 0:S.errors)==null?void 0:C.name),1)]),e("div",xe,[es,d(e("input",{type:"text",id:"phone","onUpdate:modelValue":o[4]||(o[4]=l=>t.form.phone=l),class:n(["form-control",{"is-invalid":(k=(V=(U=s.$page)==null?void 0:U.props)==null?void 0:V.errors)==null?void 0:k.phone}]),placeholder:"Enter Phone"},null,2),[[p,t.form.phone]]),e("span",ss,a((N=(D=(E=s.$page)==null?void 0:E.props)==null?void 0:D.errors)==null?void 0:N.phone),1)]),e("div",os,[ts,d(e("input",{type:"text",id:"title","onUpdate:modelValue":o[5]||(o[5]=l=>t.form.title=l),class:n(["form-control",{"is-invalid":(T=(M=(I=s.$page)==null?void 0:I.props)==null?void 0:M.errors)==null?void 0:T.title}]),placeholder:"Enter Title"},null,2),[[p,t.form.title]]),e("span",ls,a((R=(F=(A=s.$page)==null?void 0:A.props)==null?void 0:F.errors)==null?void 0:R.title),1)]),e("div",rs,[as,d(e("textarea",{id:"address","onUpdate:modelValue":o[6]||(o[6]=l=>t.form.address=l),class:n(["form-control",{"is-invalid":($=(B=(P=s.$page)==null?void 0:P.props)==null?void 0:B.errors)==null?void 0:$.address}]),rows:"3",placeholder:"Enter Address"},null,2),[[p,t.form.address]]),e("span",ns,a((W=(L=(H=s.$page)==null?void 0:H.props)==null?void 0:L.errors)==null?void 0:W.address),1)]),e("div",is,[ds,d(e("input",{type:"text",id:"npwp","onUpdate:modelValue":o[7]||(o[7]=l=>t.form.npwp=l),class:n(["form-control",{"is-invalid":(q=(Y=(z=s.$page)==null?void 0:z.props)==null?void 0:Y.errors)==null?void 0:q.npwp}]),placeholder:"Enter NPWP"},null,2),[[p,t.form.npwp]]),e("span",ps,a((j=(Z=(G=s.$page)==null?void 0:G.props)==null?void 0:Z.errors)==null?void 0:j.npwp),1)]),e("div",ms,[cs,d(e("input",{type:"number",id:"id_no","onUpdate:modelValue":o[8]||(o[8]=l=>t.form.id_no=l),class:n(["form-control",{"is-invalid":(O=(K=(J=s.$page)==null?void 0:J.props)==null?void 0:K.errors)==null?void 0:O.id_no}]),placeholder:"Enter ID Number"},null,2),[[p,t.form.id_no]]),e("span",us,a((x=(X=(Q=s.$page)==null?void 0:Q.props)==null?void 0:X.errors)==null?void 0:x.id_no),1)]),e("div",fs,[hs,e("input",{type:"file",id:"id_img",onChange:o[9]||(o[9]=(...l)=>s.handleFileUpload&&s.handleFileUpload(...l)),class:n(["form-control",{"is-invalid":(oe=(se=(ee=s.$page)==null?void 0:ee.props)==null?void 0:se.errors)==null?void 0:oe.id_img}])},null,34),e("span",bs,a((re=(le=(te=s.$page)==null?void 0:te.props)==null?void 0:le.errors)==null?void 0:re.id_img),1)]),e("div",_s,[gs,u(Ee,{modelValue:t.form.store_id,"onUpdate:modelValue":o[10]||(o[10]=l=>t.form.store_id=l),options:t.stores,"track-by":"id",label:"name",onSearchChange:s.getDataStore,"internal-search":!1,class:n({"is-invalid":(ie=(ne=(ae=s.$page)==null?void 0:ae.props)==null?void 0:ne.errors)==null?void 0:ie.store_id})},null,8,["modelValue","options","onSearchChange","class"]),e("span",vs,a((me=(pe=(de=s.$page)==null?void 0:de.props)==null?void 0:pe.errors)==null?void 0:me.store_id),1)]),e("div",ys,[ws,d(e("select",{id:"type","onUpdate:modelValue":o[11]||(o[11]=l=>t.form.type=l),class:n(["form-control",{"is-invalid":(fe=(ue=(ce=s.$page)==null?void 0:ce.props)==null?void 0:ue.errors)==null?void 0:fe.type}])},Vs,2),[[Be,t.form.type]]),e("span",ks,a((_e=(be=(he=s.$page)==null?void 0:he.props)==null?void 0:be.errors)==null?void 0:_e.type),1)]),e("div",Es,[Ds,d(e("input",{type:"email",id:"email","onUpdate:modelValue":o[12]||(o[12]=l=>t.form.email=l),class:n(["form-control",{"is-invalid":(ye=(ve=(ge=s.$page)==null?void 0:ge.props)==null?void 0:ve.errors)==null?void 0:ye.email}]),placeholder:"Enter Email"},null,2),[[p,t.form.email]]),e("span",Ns,a((Ce=(Se=(we=s.$page)==null?void 0:we.props)==null?void 0:Se.errors)==null?void 0:Ce.email),1)]),d(e("input",{type:"hidden","onUpdate:modelValue":o[13]||(o[13]=l=>t.form.created_by=l)},null,512),[[p,t.form.created_by]])])],544)]}),_:1},8,["show","title"])])])}const Ls=Te(Le,[["render",As],["__scopeId","data-v-1b0127f1"]]);export{Ls as default};
