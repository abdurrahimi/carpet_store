import{A as Ce}from"./AuthenticatedLayout-CKdSbIkP.js";import{M as Ue}from"./Modal-BIwPPVGT.js";import{_ as Ee,Z as ke,F as c,r as g,o as u,b as h,c as b,e as s,w as _,k as De,t as d,d as ve,n as a,a as v,f as Te,h as Fe,i as p,v as m,l as Ne,p as Ve,g as Ie}from"./app-CxJeJAKI.js";import{M as Re}from"./vue-multiselect.esm-BYPxeQl_.js";/* empty css                        */const Pe={layout:Ce,props:["customer"],components:{Head:ke,Modal:Ue,Multiselect:Re},data(){return{table:[{title:"Nama Customer",data:"name"},{title:"Email",data:"email"},{title:"Nomor Handphone",data:"phone"},{title:"NPWP",data:"npwp"},{title:"Created At",data:"created_at"},{title:"Created By",data:"creator.name"}],data:this.customer,selectedIds:[],form:{},stores:[],modalShow:!1,modalTitle:"",errors:{}}},mounted(){},methods:{createUser(){this.$page.props.errors=null,this.resetForm(),this.modalTitle="Tambah Data Pelanggan",$("#modal-add").modal("show")},editRow(e){this.$page.props.errors=null,this.resetForm(e),this.modalTitle="Ubah Data Pelanggan",$("#modal-add").modal("show")},async submitForm(){this.form.submit||(this.form.submit=!0,c.post(this.form.id?this.route("customer.update",this.form.id):this.route("customer.store"),this.form,{preserveScroll:!0,onSuccess:()=>{this.form.submit=!1,$("#modal-add").modal("hide"),this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["users"]})},onError:()=>{this.form.submit=!1,this.$error()}}))},deleteRow(e){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(e),!1)},deleteAction(e){c.post(this.route("customer.delete"),{ids:[e.id]},{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),c.visit(this.$page.url,{only:["users"]})},onError:()=>{this.$error()}})},handleSelectedRows(e){this.selectedIds=e},deleteSelected(){this.$confirm("You won't be able to revert this!",()=>this.deleteSelectedAction(),!1)},deleteSelectedAction(){c.post(this.route("customer.delete"),{ids:this.selectedIds},{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),c.visit(this.$page.url,{only:["users"]})},onError:()=>{this.$error()}})},resetForm(e=null){this.form={id:(e==null?void 0:e.id)??"",name:(e==null?void 0:e.name)??"",phone:(e==null?void 0:e.phone)??"",title:(e==null?void 0:e.title)??"",address:(e==null?void 0:e.address)??"",npwp:(e==null?void 0:e.npwp)??"",id_no:(e==null?void 0:e.id_no)??"",id_img:(e==null?void 0:e.id_img)??"",type:(e==null?void 0:e.type)??"",email:(e==null?void 0:e.email)??""}}}},l=e=>(Ve("data-v-7297b1c0"),e=e(),Ie(),e),Ae={class:"text-right"},Me=l(()=>s("i",{class:"fa fa-trash"},null,-1)),$e={key:0,class:"alert alert-success",role:"alert"},Be={key:1,class:"alert alert-danger",role:"alert"},He={class:"card shadow"},Le=l(()=>s("div",{class:"card-header"},[s("h4",{class:"card-title"},[s("i",{class:"fa fa-user"}),v(" Data Customer ")])],-1)),We=["onClick"],Ye=["onClick"],qe={class:"row"},ze={class:"col-md-6 mb-3"},Ze=l(()=>s("label",{for:"name",class:"form-label"},"Name",-1)),je={class:"text-danger"},Ge={class:"col-md-6 mb-3"},Je=l(()=>s("label",{for:"phone",class:"form-label"},"Phone",-1)),Ke={class:"text-danger"},Oe={class:"col-md-6 mb-3"},Qe=l(()=>s("label",{for:"title",class:"form-label"},"Title",-1)),Xe={class:"text-danger"},xe={class:"col-md-12 mb-3"},es=l(()=>s("label",{for:"address",class:"form-label"},"Address",-1)),ss={class:"text-danger"},os={class:"col-md-6 mb-3"},ts=l(()=>s("label",{for:"npwp",class:"form-label"},"NPWP",-1)),rs={class:"text-danger"},ls={class:"col-md-6 mb-3"},is=l(()=>s("label",{for:"id_no",class:"form-label"},"ID Number",-1)),ns={class:"text-danger"},ds={class:"col-md-6 mb-3"},as=l(()=>s("label",{for:"id_img",class:"form-label"},"ID Image",-1)),ps={class:"text-danger"},ms={class:"col-md-6 mb-3"},cs=l(()=>s("label",{for:"type",class:"form-label"},"Customer Type",-1)),us=l(()=>s("option",{value:""},"Select Type",-1)),hs=l(()=>s("option",{value:"1"},"Reseller Lama",-1)),fs=l(()=>s("option",{value:"2"},"Reseller Baru",-1)),bs=l(()=>s("option",{value:"9"},"Retail",-1)),_s=[us,hs,fs,bs],gs={class:"text-danger"},vs={class:"col-md-6 mb-3"},ws=l(()=>s("label",{for:"email",class:"form-label"},"Email",-1)),ys={class:"text-danger"},Ss=l(()=>s("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1)),Cs=l(()=>s("span",{class:"bott"},"Loading",-1)),Us={key:1,class:"bott"};function Es(e,o,ks,Ds,t,i){const we=g("Head"),ye=g("Table"),Se=g("Modal");return u(),h("div",null,[b(we,{title:"Customer"}),s("div",Ae,[b(De,{name:"fade"},{default:_(()=>[s("button",{class:a([t.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:o[0]||(o[0]=(...n)=>i.deleteSelected&&i.deleteSelected(...n))},[Me,v(" Delete Bulk ")],2)]),_:1}),s("button",{class:"btn btn-primary mb-2",type:"button",onClick:o[1]||(o[1]=(...n)=>i.createUser&&i.createUser(...n))}," + Data Baru ")]),e.$page.props.flash.success?(u(),h("div",$e,d(e.$page.props.flash.success),1)):ve("",!0),e.$page.props.flash.error?(u(),h("div",Be,d(e.$page.props.flash.error),1)):ve("",!0),s("div",He,[Le,b(ye,{columns:t.table,rows:t.data,"onUpdate:selectedRows":i.handleSelectedRows},{actions:_(({row:n})=>[s("button",{onClick:f=>i.editRow(n),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,We),v("  "),s("button",{onClick:f=>i.deleteRow(n),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,Ye)]),_:1},8,["columns","rows","onUpdate:selectedRows"]),b(Se,{show:t.modalShow,title:t.modalTitle,id:"modal-add"},{footer:_(()=>[s("button",{type:"button",class:a(["btn btn-primary",{disabled:t.form.submit}]),onClick:o[13]||(o[13]=(...n)=>i.submitForm&&i.submitForm(...n))},[t.form.submit?(u(),h(Te,{key:0},[Ss,Cs],64)):(u(),h("span",Us,"Save"))],2)]),default:_(()=>{var n,f,w,y,S,C,U,E,k,D,T,F,N,V,I,R,P,A,M,B,H,L,W,Y,q,z,Z,j,G,J,K,O,Q,X,x,ee,se,oe,te,re,le,ie,ne,de,ae,pe,me,ce,ue,he,fe,be,_e,ge;return[s("form",{ref:"formCustomer",onSubmit:o[12]||(o[12]=Fe((...r)=>i.submitForm&&i.submitForm(...r),["prevent"]))},[s("div",qe,[p(s("input",{type:"hidden","onUpdate:modelValue":o[2]||(o[2]=r=>t.form.id=r)},null,512),[[m,t.form.id]]),s("div",ze,[Ze,p(s("input",{type:"text",id:"name","onUpdate:modelValue":o[3]||(o[3]=r=>t.form.name=r),class:a(["form-control",{"is-invalid":(w=(f=(n=e.$page)==null?void 0:n.props)==null?void 0:f.errors)==null?void 0:w.name}]),placeholder:"Enter Name",required:""},null,2),[[m,t.form.name]]),s("span",je,d((C=(S=(y=e.$page)==null?void 0:y.props)==null?void 0:S.errors)==null?void 0:C.name),1)]),s("div",Ge,[Je,p(s("input",{type:"text",id:"phone","onUpdate:modelValue":o[4]||(o[4]=r=>t.form.phone=r),class:a(["form-control",{"is-invalid":(k=(E=(U=e.$page)==null?void 0:U.props)==null?void 0:E.errors)==null?void 0:k.phone}]),placeholder:"Enter Phone"},null,2),[[m,t.form.phone]]),s("span",Ke,d((F=(T=(D=e.$page)==null?void 0:D.props)==null?void 0:T.errors)==null?void 0:F.phone),1)]),s("div",Oe,[Qe,p(s("input",{type:"text",id:"title","onUpdate:modelValue":o[5]||(o[5]=r=>t.form.title=r),class:a(["form-control",{"is-invalid":(I=(V=(N=e.$page)==null?void 0:N.props)==null?void 0:V.errors)==null?void 0:I.title}]),placeholder:"Enter Title"},null,2),[[m,t.form.title]]),s("span",Xe,d((A=(P=(R=e.$page)==null?void 0:R.props)==null?void 0:P.errors)==null?void 0:A.title),1)]),s("div",xe,[es,p(s("textarea",{id:"address","onUpdate:modelValue":o[6]||(o[6]=r=>t.form.address=r),class:a(["form-control",{"is-invalid":(H=(B=(M=e.$page)==null?void 0:M.props)==null?void 0:B.errors)==null?void 0:H.address}]),rows:"3",placeholder:"Enter Address"},null,2),[[m,t.form.address]]),s("span",ss,d((Y=(W=(L=e.$page)==null?void 0:L.props)==null?void 0:W.errors)==null?void 0:Y.address),1)]),s("div",os,[ts,p(s("input",{type:"text",id:"npwp","onUpdate:modelValue":o[7]||(o[7]=r=>t.form.npwp=r),class:a(["form-control",{"is-invalid":(Z=(z=(q=e.$page)==null?void 0:q.props)==null?void 0:z.errors)==null?void 0:Z.npwp}]),placeholder:"Enter NPWP"},null,2),[[m,t.form.npwp]]),s("span",rs,d((J=(G=(j=e.$page)==null?void 0:j.props)==null?void 0:G.errors)==null?void 0:J.npwp),1)]),s("div",ls,[is,p(s("input",{type:"number",id:"id_no","onUpdate:modelValue":o[8]||(o[8]=r=>t.form.id_no=r),class:a(["form-control",{"is-invalid":(Q=(O=(K=e.$page)==null?void 0:K.props)==null?void 0:O.errors)==null?void 0:Q.id_no}]),placeholder:"Enter ID Number"},null,2),[[m,t.form.id_no]]),s("span",ns,d((ee=(x=(X=e.$page)==null?void 0:X.props)==null?void 0:x.errors)==null?void 0:ee.id_no),1)]),s("div",ds,[as,s("input",{type:"file",id:"id_img",onChange:o[9]||(o[9]=(...r)=>e.handleFileUpload&&e.handleFileUpload(...r)),class:a(["form-control",{"is-invalid":(te=(oe=(se=e.$page)==null?void 0:se.props)==null?void 0:oe.errors)==null?void 0:te.id_img}])},null,34),s("span",ps,d((ie=(le=(re=e.$page)==null?void 0:re.props)==null?void 0:le.errors)==null?void 0:ie.id_img),1)]),s("div",ms,[cs,p(s("select",{id:"type","onUpdate:modelValue":o[10]||(o[10]=r=>t.form.type=r),class:a(["form-control",{"is-invalid":(ae=(de=(ne=e.$page)==null?void 0:ne.props)==null?void 0:de.errors)==null?void 0:ae.type}])},_s,2),[[Ne,t.form.type]]),s("span",gs,d((ce=(me=(pe=e.$page)==null?void 0:pe.props)==null?void 0:me.errors)==null?void 0:ce.type),1)]),s("div",vs,[ws,p(s("input",{type:"email",id:"email","onUpdate:modelValue":o[11]||(o[11]=r=>t.form.email=r),class:a(["form-control",{"is-invalid":(fe=(he=(ue=e.$page)==null?void 0:ue.props)==null?void 0:he.errors)==null?void 0:fe.email}]),placeholder:"Enter Email"},null,2),[[m,t.form.email]]),s("span",ys,d((ge=(_e=(be=e.$page)==null?void 0:be.props)==null?void 0:_e.errors)==null?void 0:ge.email),1)])])],544)]}),_:1},8,["show","title"])])])}const Rs=Ee(Pe,[["render",Es],["__scopeId","data-v-7297b1c0"]]);export{Rs as default};
