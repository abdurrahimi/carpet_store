import{A as E}from"./AuthenticatedLayout-bK__IP4A.js";import g from"./ModalUpload-eegsgoQD.js";import C from"./ModalForm-BY0OEQoY.js";import{Z as T,a as l,x as d,C as i,_ as k,y as n,o as c,c as u,b as e,m,p as v,t as h,d as b,F as y,n as S}from"./app-DBKZgdbu.js";import{a as R}from"./vue-multiselect.esm-DEjfjvDO.js";/* empty css                        */const P={layout:E,props:["products","categories","supplier"],components:{Head:T,ModalUpload:g,ModalForm:C,Multiselect:R},data(){return{table:[{title:"ORI DESIGN ID",data:"id"},{title:"NEW DESIGN (SKU)",data:"sku"},{title:"PRODUCT CATEGORY",data:"category"},{title:"DESIGN NAME",data:"design_name"},{title:"COLOR",data:"color"},{title:"PATTERN",data:"pattern"},{title:"TYPE",data:"origin",render:t=>t.origin==1?l("span",null,[d("Import")]):l("span",null,[d("Local")])}],data:this.products,modal:{upload:!1,form:!1},toEdit:!0,selectedIds:[],modalTitle:"",type:"create",rowData:{}}},methods:{handleSelectedRows(t){this.selectedIds=t},createProduct(){this.rowData={},this.toEdit=!0,this.modalTitle="Tambah Data Product",$("#modal-product-index").modal("show")},uploadProduct(){$("#modal-product-upload").modal("show")},detailRow(t){this.rowData=t,this.toEdit=!1,this.modalTitle="Detail Data Product",$("#modal-product-index").modal("show")},editRow(t){this.rowData=t,this.toEdit=!0,this.modalTitle="Ubah Data Product",$("#modal-product-index").modal("show")},deleteRow(t){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(t),!1)},deleteAction(t){i.delete(this.route("products.delete",t.id),{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),i.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})},deleteSelected(){this.$confirm("You won't be able to revert this!",()=>this.deleteSelectedAction(),!1)},deleteSelectedAction(){i.post(this.route("products.deleteBulk"),{id:this.selectedIds},{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),i.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})}}},I={class:"text-right"},N=e("i",{class:"fa fa-trash"},null,-1),A={key:0,class:"alert alert-success",role:"alert"},U={key:1,class:"alert alert-danger",role:"alert"},x={class:"card shadow"},M=e("div",{class:"card-header"},[e("h4",{class:"card-title"},[e("i",{class:"fa fa-box"}),d(" Data Product ")])],-1),B=["onClick"],F=["onClick"],O=["onClick"];function G(t,r,V,Y,s,o){const f=n("Head"),_=n("Table"),D=n("ModalUpload"),w=n("ModalForm");return c(),u(y,null,[e("div",null,[l(f,{title:"Products"}),e("div",I,[l(v,{name:"fade"},{default:m(()=>[e("button",{class:S([s.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:r[0]||(r[0]=(...a)=>o.deleteSelected&&o.deleteSelected(...a))},[N,d(" Delete Bulk ")],2)]),_:1}),e("button",{class:"btn btn-primary mb-2",type:"button",onClick:r[1]||(r[1]=(...a)=>o.createProduct&&o.createProduct(...a))}," + Data Baru "),d("   "),e("button",{class:"btn btn-success mb-2",type:"button",onClick:r[2]||(r[2]=(...a)=>o.uploadProduct&&o.uploadProduct(...a))}," + Upload ")]),t.$page.props.flash.success?(c(),u("div",A,h(t.$page.props.flash.success),1)):b("",!0),t.$page.props.flash.error?(c(),u("div",U,h(t.$page.props.flash.error),1)):b("",!0),e("div",x,[M,l(_,{columns:s.table,rows:s.data,"onUpdate:selectedRows":o.handleSelectedRows},{actions:m(({row:a})=>[e("button",{onClick:p=>o.detailRow(a),class:"btn btn-info btn-sm",title:"Detail"}," Detail ",8,B),d("  "),e("button",{onClick:p=>o.editRow(a),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,F),d("  "),e("button",{onClick:p=>o.deleteRow(a),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,O)]),_:1},8,["columns","rows","onUpdate:selectedRows"])])]),l(D),l(w,{modalTitle:s.modalTitle,type:s.type,editData:s.rowData,toEdit:s.toEdit},null,8,["modalTitle","type","editData","toEdit"])],64)}const j=k(P,[["render",G]]);export{j as default};
