import{A as ks}from"./AuthenticatedLayout-BpgTmOaQ.js";import{M as Ss,a as Ps}from"./vue-multiselect-Ct0g21Ay.js";import{Z as Vs,a as m,x as b,D as c,E as ws,_ as Cs,y as _,o as u,c as f,b as e,m as h,p as Es,t as i,d as vs,n as l,e as d,v as p,G as Ns,w as ys}from"./app-XKJXP1mp.js";const Ts={layout:ks,props:["products","categories","supplier"],components:{Head:Vs,Modal:Ss,Multiselect:Ps},data(){return{table:[{title:"SKU",data:"sku"},{title:"Nama Produk",data:"design_name"},{title:"Ori Design",data:"ori_design"},{title:"Supplier",data:"supp_id"},{title:"Tipe Produk",data:"origin",render:s=>s.origin==1?m("span",null,[b("Import")]):m("span",null,[b("Local")])},{title:"Warna Produk",data:"color"},{title:"Harga Modal",data:"cost"},{title:"Harga Bawah",data:"unit_bottom_price"},{title:"Deskripsi Desain",data:"desc"},{title:"Deskripsi Pola",data:"pattern"},{title:"Nama Pola",data:"pattern_name"},{title:"Nama Desain",data:"design_name"},{title:"Tahun",data:"year"},{title:"Tanggal Produksi",data:"mfg_date"},{title:"Panjang Produk",data:"panjang"},{title:"Lebar Produk",data:"lebar"},{title:"Dibuat Pada",data:"created_at"},{title:"Dibuat Oleh",data:"created_by"},{title:"Diperbarui Pada",data:"updated_at"},{title:"Diperbarui Oleh",data:"updated_by"},{title:"Nomor Roll",data:"roll_number"}],data:this.products,modalTitle:"",modalShow:!1,selectedIds:[],form:{},store:[],file:null}},mounted(){this.resetForm(),this.getDataStore()},methods:{handleFileUpload(s){this.file=s.target.files[0]},submitUpload(){const s=new FormData;s.append("file",this.file),!this.form.submit&&(this.form.submit=!0,c.post(route("product.import"),s,{onFinish:()=>{this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-upload").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}))},createProduct(){this.$page.props.errors=null,this.resetForm(),this.modalTitle="Tambah Data Product",$("#modal-product-index").modal("show")},uploadProduct(){this.$page.props.errors=null,this.modalTitle="Tambah Data Product",$("#modal-product-upload").modal("show")},editRow(s){var t;this.resetForm(),this.populateForm(s),this.getDataStore((t=s.store)==null?void 0:t.name),this.form.account=s.account,this.modalTitle="Ubah Data Karyawan",$("#modal-product-index").modal("show")},deleteRow(s){this.$confirm("You won't be able to revert this!",()=>this.deleteAction(s),!1)},deleteAction(s){c.delete(this.route("products.delete",s.id),{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil dihapus"),c.visit(this.$page.url,{only:["products"]})},onError:()=>{this.$error()}})},handleSelectedRows(s){this.selectedIds=s},async getDataStore(s=""){let{data:t}=await ws.get(this.route("store.get",{name:s}));this.store=t},async submitForm(){try{return this.form.submit?void 0:(this.form.submit=!0,this.form.id==""||this.form.id==null?c.post(this.route("products.store"),this.form,{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-index").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}):c.put(this.route("products.update",this.form.id),this.form,{preserveScroll:!0,onSuccess:()=>{this.$success("Data berhasil disimpan"),c.visit(this.$page.url,{only:["products"]}),this.form.submit=!1,$("#modal-product-index").modal("hide")},onError:()=>{this.form.submit=!1,this.$error()}}))}catch(s){console.log(s),this.form.submit=!1}},resetForm(){this.form={id:null,product_id:"",category:{id:null,name:""},supplier:{id:null,name:""},store:{id:null,name:""},name:"",origin:1,color:"",cost:"",unit_price:"",design_desc:"",pattern_desc:"",pattern_name:"",design_name:"",year:"",mfg_date:"",length:0,width:0,roll_number:"",submit:!1,edit:!1}},populateForm(s){console.log(s),this.form={id:s.id,category:s.category,supplier:s.supplier,store:s.store,name:s.name,origin:s.origin,color:s.color,cost:s.cost,unit_price:s.unit_price,design_desc:s.design_desc,pattern_desc:s.pattern_desc,pattern_name:s.pattern_name,design_name:s.design_name,year:s.year,mfg_date:s.mfg_date,length:s.length,width:s.width,roll_number:s.roll_number,submit:!1,edit:!0}}}},Fs={class:"text-right"},Ms=e("i",{class:"fa fa-trash"},null,-1),Rs={key:0,class:"alert alert-success",role:"alert"},Ls={key:1,class:"alert alert-danger",role:"alert"},Bs={class:"card shadow"},Is=e("div",{class:"card-header"},[e("h4",{class:"card-title"},[e("i",{class:"fa fa-box"}),b(" Data Product")])],-1),Hs=["onClick"],As=["onClick"],Os={class:"row"},js={class:"col-md-6 mb-3"},Ys=e("label",{for:"name",class:"form-label"},"Name",-1),Ks={class:"text-danger"},Ws={class:"col-md-6 mb-3"},$s=e("label",{for:"origin",class:"form-label"},"Origin",-1),qs=e("option",{value:"1"},"Lokal",-1),zs=e("option",{value:"2"},"Impor",-1),Gs=[qs,zs],Zs={class:"text-danger"},Js={class:"col-md-6 mb-3"},Qs=e("label",{for:"toko_id",class:"form-label"},"Store",-1),Xs={class:"text-danger"},xs={class:"col-md-6 mb-3"},et=e("label",{for:"category_id",class:"form-label"},"Category",-1),st={class:"text-danger"},tt={class:"col-md-6 mb-3"},ot=e("label",{for:"supp_id",class:"form-label"},"Supplier",-1),rt={class:"text-danger"},lt={class:"col-md-6 mb-3"},at=e("label",{for:"color",class:"form-label"},"Color",-1),it={class:"text-danger"},nt={class:"col-md-6 mb-3"},dt=e("label",{for:"cost",class:"form-label"},"Cost",-1),pt={class:"text-danger"},mt={class:"col-md-6 mb-3"},ct=e("label",{for:"unit_price",class:"form-label"},"Unit Price(per meter)",-1),ut={class:"text-danger"},ft={class:"col-md-6 mb-3"},ht=e("label",{for:"design_desc",class:"form-label"},"Design Description",-1),bt={class:"text-danger"},gt={class:"col-md-6 mb-3"},_t=e("label",{for:"pattern_desc",class:"form-label"},"Pattern Description",-1),vt={class:"text-danger"},yt={class:"col-md-6 mb-3"},Dt=e("label",{for:"pattern_name",class:"form-label"},"Pattern Name",-1),Ut={class:"text-danger"},kt={class:"col-md-6 mb-3"},St=e("label",{for:"design_name",class:"form-label"},"Design Name",-1),Pt={class:"text-danger"},Vt={class:"col-md-6 mb-3"},wt=e("label",{for:"year",class:"form-label"},"Year",-1),Ct={class:"text-danger"},Et={class:"col-md-6 mb-3"},Nt=e("label",{for:"mfg_date",class:"form-label"},"Manufacturing Date",-1),Tt={class:"text-danger"},Ft={class:"col-md-6 mb-3"},Mt=e("label",{for:"length",class:"form-label"},"Panjang(Meter)",-1),Rt={class:"text-danger"},Lt={class:"col-md-6 mb-3"},Bt=e("label",{for:"width",class:"form-label"},"Lebar",-1),It={class:"text-danger"},Ht={class:"col-md-6 mb-3"},At=e("label",{for:"roll_number",class:"form-label"},"Roll Number",-1),Ot={class:"text-danger"},jt={key:0},Yt=e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Kt=e("span",{class:"bott"},"Loading",-1),Wt=[Yt,Kt],$t={key:1,class:"bott"},qt=e("button",{type:"submit"},"Upload",-1),zt={key:0},Gt=e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Zt=e("span",{class:"bott"},"Loading",-1),Jt=[Gt,Zt],Qt={key:1,class:"bott"};function Xt(s,t,y,xt,o,n){const Ds=_("Head"),Us=_("Table"),v=_("Multiselect"),D=_("Modal");return u(),f("div",null,[m(Ds,{title:"Products"}),e("div",Fs,[m(Es,{name:"fade"},{default:h(()=>[e("button",{class:l([o.selectedIds.length>0?"show":"","btn btn-danger mr-2 mb-2 fade"]),onClick:t[0]||(t[0]=(...a)=>s.deleteSelected&&s.deleteSelected(...a))},[Ms,b(" Delete Bulk ")],2)]),_:1}),e("button",{class:"btn btn-primary mb-2",type:"button",onClick:t[1]||(t[1]=(...a)=>n.createProduct&&n.createProduct(...a))}," + Data Baru "),b("   "),e("button",{class:"btn btn-success mb-2",type:"button",onClick:t[2]||(t[2]=(...a)=>n.uploadProduct&&n.uploadProduct(...a))}," + Upload ")]),s.$page.props.flash.success?(u(),f("div",Rs,i(s.$page.props.flash.success),1)):vs("",!0),s.$page.props.flash.error?(u(),f("div",Ls,i(s.$page.props.flash.error),1)):vs("",!0),e("div",Bs,[Is,m(Us,{columns:o.table,rows:o.data,"onUpdate:selectedRows":n.handleSelectedRows},{actions:h(({row:a})=>[e("button",{onClick:g=>n.editRow(a),class:"btn btn-warning btn-sm",title:"Edit"}," Edit",8,Hs),b("  "),e("button",{onClick:g=>n.deleteRow(a),class:"btn btn-danger btn-sm",title:"Delete"}," Delete ",8,As)]),_:1},8,["columns","rows","onUpdate:selectedRows"])]),m(D,{show:o.modalShow,title:o.modalTitle,id:"modal-product-index"},{footer:h(()=>[e("button",{type:"button",class:l(["btn btn-primary",{disabled:o.form.submit}]),onClick:t[21]||(t[21]=(...a)=>n.submitForm&&n.submitForm(...a))},[o.form.submit?(u(),f("div",jt,Wt)):(u(),f("span",$t,"Save"))],2)]),default:h(()=>{var a,g,U,k,S,P,V,w,C,E,N,T,F,M,R,L,B,I,H,A,O,j,Y,K,W,q,z,G,Z,J,Q,X,x,ee,se,te,oe,re,le,ae,ie,ne,de,pe,me,ce,ue,fe,he,be,ge,_e,ve,ye,De,Ue,ke,Se,Pe,Ve,we,Ce,Ee,Ne,Te,Fe,Me,Re,Le,Be,Ie,He,Ae,Oe,je,Ye,Ke,We,$e,qe,ze,Ge,Ze,Je,Qe,Xe,xe,es,ss,ts,os,rs,ls,as,is,ns,ds,ps,ms,cs,us,fs,hs,bs,gs,_s;return[e("form",{ref:"formProduct",onSubmit:t[20]||(t[20]=ys((...r)=>s.handleSubmit&&s.handleSubmit(...r),["prevent"]))},[e("div",Os,[e("div",js,[Ys,d(e("input",{type:"text",id:"name","onUpdate:modelValue":t[3]||(t[3]=r=>o.form.name=r),class:l(["form-control",{"is-invalid":(U=(g=(a=s.$page)==null?void 0:a.props)==null?void 0:g.errors)==null?void 0:U.name}]),placeholder:"Enter Name",required:""},null,2),[[p,o.form.name]]),e("span",Ks,i((P=(S=(k=s.$page)==null?void 0:k.props)==null?void 0:S.errors)==null?void 0:P.name),1)]),e("div",Ws,[$s,d(e("select",{id:"origin","onUpdate:modelValue":t[4]||(t[4]=r=>o.form.origin=r),class:l(["form-control",{"is-invalid":(C=(w=(V=s.$page)==null?void 0:V.props)==null?void 0:w.errors)==null?void 0:C.origin}])},Gs,2),[[Ns,o.form.origin]]),e("span",Zs,i((T=(N=(E=s.$page)==null?void 0:E.props)==null?void 0:N.errors)==null?void 0:T.origin),1)]),e("div",Js,[Qs,m(v,{modelValue:o.form.store,"onUpdate:modelValue":t[5]||(t[5]=r=>o.form.store=r),options:o.store,"track-by":"id",label:"name",onSearchChange:n.getDataStore,"internal-search":!1,class:l({"is-invalid":(R=(M=(F=s.$page)==null?void 0:F.props)==null?void 0:M.errors)==null?void 0:R.store})},null,8,["modelValue","options","onSearchChange","class"]),e("span",Xs,i((H=(I=(B=(L=s.$page)==null?void 0:L.props)==null?void 0:B.errors)==null?void 0:I.store)==null?void 0:H.id),1)]),e("div",xs,[et,m(v,{modelValue:o.form.category,"onUpdate:modelValue":t[6]||(t[6]=r=>o.form.category=r),options:y.categories,"track-by":"id",label:"name","internal-search":!0,class:l({"is-invalid":(Y=(j=(O=(A=s.$page)==null?void 0:A.props)==null?void 0:O.errors)==null?void 0:j.category)==null?void 0:Y.id})},null,8,["modelValue","options","class"]),e("span",st,i((q=(W=(K=s.$page)==null?void 0:K.props)==null?void 0:W.errors)==null?void 0:q.category_id),1)]),e("div",tt,[ot,m(v,{modelValue:o.form.supplier,"onUpdate:modelValue":t[7]||(t[7]=r=>o.form.supplier=r),options:y.supplier,"track-by":"id",label:"name","internal-search":!0,class:l({"is-invalid":(J=(Z=(G=(z=s.$page)==null?void 0:z.props)==null?void 0:G.errors)==null?void 0:Z.supplier)==null?void 0:J.id})},null,8,["modelValue","options","class"]),e("span",rt,i((ee=(x=(X=(Q=s.$page)==null?void 0:Q.props)==null?void 0:X.errors)==null?void 0:x.supplier)==null?void 0:ee.id),1)]),e("div",lt,[at,d(e("input",{type:"text",id:"color","onUpdate:modelValue":t[8]||(t[8]=r=>o.form.color=r),class:l(["form-control",{"is-invalid":(oe=(te=(se=s.$page)==null?void 0:se.props)==null?void 0:te.errors)==null?void 0:oe.color}]),placeholder:"Enter Color"},null,2),[[p,o.form.color]]),e("span",it,i((ae=(le=(re=s.$page)==null?void 0:re.props)==null?void 0:le.errors)==null?void 0:ae.color),1)]),e("div",nt,[dt,d(e("input",{type:"number",id:"cost","onUpdate:modelValue":t[9]||(t[9]=r=>o.form.cost=r),class:l(["form-control",{"is-invalid":(de=(ne=(ie=s.$page)==null?void 0:ie.props)==null?void 0:ne.errors)==null?void 0:de.cost}]),placeholder:"Enter Cost"},null,2),[[p,o.form.cost]]),e("span",pt,i((ce=(me=(pe=s.$page)==null?void 0:pe.props)==null?void 0:me.errors)==null?void 0:ce.cost),1)]),e("div",mt,[ct,d(e("input",{type:"number",id:"unit_price","onUpdate:modelValue":t[10]||(t[10]=r=>o.form.unit_price=r),class:l(["form-control",{"is-invalid":(he=(fe=(ue=s.$page)==null?void 0:ue.props)==null?void 0:fe.errors)==null?void 0:he.unit_price}]),placeholder:"Enter Unit Price"},null,2),[[p,o.form.unit_price]]),e("span",ut,i((_e=(ge=(be=s.$page)==null?void 0:be.props)==null?void 0:ge.errors)==null?void 0:_e.unit_price),1)]),e("div",ft,[ht,d(e("input",{type:"text",id:"design_desc","onUpdate:modelValue":t[11]||(t[11]=r=>o.form.design_desc=r),class:l(["form-control",{"is-invalid":(De=(ye=(ve=s.$page)==null?void 0:ve.props)==null?void 0:ye.errors)==null?void 0:De.design_desc}]),placeholder:"Enter Design Description"},null,2),[[p,o.form.design_desc]]),e("span",bt,i((Se=(ke=(Ue=s.$page)==null?void 0:Ue.props)==null?void 0:ke.errors)==null?void 0:Se.design_desc),1)]),e("div",gt,[_t,d(e("input",{type:"text",id:"pattern_desc","onUpdate:modelValue":t[12]||(t[12]=r=>o.form.pattern_desc=r),class:l(["form-control",{"is-invalid":(we=(Ve=(Pe=s.$page)==null?void 0:Pe.props)==null?void 0:Ve.errors)==null?void 0:we.pattern_desc}]),placeholder:"Enter Pattern Description"},null,2),[[p,o.form.pattern_desc]]),e("span",vt,i((Ne=(Ee=(Ce=s.$page)==null?void 0:Ce.props)==null?void 0:Ee.errors)==null?void 0:Ne.pattern_desc),1)]),e("div",yt,[Dt,d(e("input",{type:"text",id:"pattern_name","onUpdate:modelValue":t[13]||(t[13]=r=>o.form.pattern_name=r),class:l(["form-control",{"is-invalid":(Me=(Fe=(Te=s.$page)==null?void 0:Te.props)==null?void 0:Fe.errors)==null?void 0:Me.pattern_name}]),placeholder:"Enter Pattern Name"},null,2),[[p,o.form.pattern_name]]),e("span",Ut,i((Be=(Le=(Re=s.$page)==null?void 0:Re.props)==null?void 0:Le.errors)==null?void 0:Be.pattern_name),1)]),e("div",kt,[St,d(e("input",{type:"text",id:"design_name","onUpdate:modelValue":t[14]||(t[14]=r=>o.form.design_name=r),class:l(["form-control",{"is-invalid":(Ae=(He=(Ie=s.$page)==null?void 0:Ie.props)==null?void 0:He.errors)==null?void 0:Ae.design_name}]),placeholder:"Enter Design Name"},null,2),[[p,o.form.design_name]]),e("span",Pt,i((Ye=(je=(Oe=s.$page)==null?void 0:Oe.props)==null?void 0:je.errors)==null?void 0:Ye.design_name),1)]),e("div",Vt,[wt,d(e("input",{type:"number",id:"year","onUpdate:modelValue":t[15]||(t[15]=r=>o.form.year=r),class:l(["form-control",{"is-invalid":($e=(We=(Ke=s.$page)==null?void 0:Ke.props)==null?void 0:We.errors)==null?void 0:$e.year}]),placeholder:"Enter Year"},null,2),[[p,o.form.year]]),e("span",Ct,i((Ge=(ze=(qe=s.$page)==null?void 0:qe.props)==null?void 0:ze.errors)==null?void 0:Ge.year),1)]),e("div",Et,[Nt,d(e("input",{type:"date",id:"mfg_date","onUpdate:modelValue":t[16]||(t[16]=r=>o.form.mfg_date=r),class:l(["form-control",{"is-invalid":(Qe=(Je=(Ze=s.$page)==null?void 0:Ze.props)==null?void 0:Je.errors)==null?void 0:Qe.mfg_date}])},null,2),[[p,o.form.mfg_date]]),e("span",Tt,i((es=(xe=(Xe=s.$page)==null?void 0:Xe.props)==null?void 0:xe.errors)==null?void 0:es.mfg_date),1)]),e("div",Ft,[Mt,d(e("input",{type:"number",id:"length","onUpdate:modelValue":t[17]||(t[17]=r=>o.form.length=r),class:l(["form-control",{"is-invalid":(os=(ts=(ss=s.$page)==null?void 0:ss.props)==null?void 0:ts.errors)==null?void 0:os.length}]),placeholder:"Enter Length"},null,2),[[p,o.form.length]]),e("span",Rt,i((as=(ls=(rs=s.$page)==null?void 0:rs.props)==null?void 0:ls.errors)==null?void 0:as.length),1)]),e("div",Lt,[Bt,d(e("input",{type:"number",id:"width","onUpdate:modelValue":t[18]||(t[18]=r=>o.form.width=r),class:l(["form-control",{"is-invalid":(ds=(ns=(is=s.$page)==null?void 0:is.props)==null?void 0:ns.errors)==null?void 0:ds.width}]),placeholder:"Enter Width"},null,2),[[p,o.form.width]]),e("span",It,i((cs=(ms=(ps=s.$page)==null?void 0:ps.props)==null?void 0:ms.errors)==null?void 0:cs.width),1)]),e("div",Ht,[At,d(e("input",{type:"text",id:"roll_number","onUpdate:modelValue":t[19]||(t[19]=r=>o.form.roll_number=r),class:l(["form-control",{"is-invalid":(hs=(fs=(us=s.$page)==null?void 0:us.props)==null?void 0:fs.errors)==null?void 0:hs.roll_number}]),placeholder:"Enter Roll Number"},null,2),[[p,o.form.roll_number]]),e("span",Ot,i((_s=(gs=(bs=s.$page)==null?void 0:bs.props)==null?void 0:gs.errors)==null?void 0:_s.roll_number),1)])])],544)]}),_:1},8,["show","title"]),m(D,{show:s.modalUploadShow,title:o.modalTitle,id:"modal-product-upload"},{footer:h(()=>[e("button",{type:"button",class:l(["btn btn-primary",{disabled:o.form.submit}]),onClick:t[24]||(t[24]=(...a)=>n.submitUpload&&n.submitUpload(...a))},[o.form.submit?(u(),f("div",zt,Jt)):(u(),f("span",Qt,"Save"))],2)]),default:h(()=>[e("form",{ref:"formUpload",onSubmit:t[23]||(t[23]=ys((...a)=>n.submitUpload&&n.submitUpload(...a),["prevent"]))},[e("input",{type:"file",ref:"file",onChange:t[22]||(t[22]=(...a)=>n.handleFileUpload&&n.handleFileUpload(...a))},null,544),qt],544)]),_:1},8,["show","title"])])}const oo=Cs(Ts,[["render",Xt]]);export{oo as default};
